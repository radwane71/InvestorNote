<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‡Ù„ Ø£Ø¨ÙŠØ¹ Ø³Ù‡Ù…ÙŠØŸ â€” Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±</title>
    <link rel="stylesheet" href="navigation.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #e8f0f5 0%, #d0e0e8 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2c3e50;
        }

        .container { max-width: 780px; margin: 0 auto; }

        /* ===== Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ===== */
        .page-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .page-header h1 {
            font-size: 2.2rem;
            color: #2c3e50;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        .page-header p {
            font-size: 0.95rem;
            color: #5a7fa0;
            margin-top: 8px;
            line-height: 1.6;
        }

        /* ===== Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø© ===== */
        .advisor-card {
            background: white;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        .advisor-card::before {
            content: '';
            position: absolute;
            top: 0; right: 0; left: 0;
            height: 5px;
            background: linear-gradient(90deg, #c0392b, #e74c3c, #f39c12);
        }

        /* ===== Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ===== */
        .progress-bar-wrap {
            background: #eef2f7;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #5a7fb5, #5a9d7a);
            border-radius: 10px;
            transition: width 0.4s ease;
            width: 0%;
        }
        .progress-label {
            font-size: 0.78rem;
            color: #888;
            text-align: left;
            margin-bottom: 6px;
            direction: ltr;
        }

        /* ===== Ø±Ø£Ø³ Ø§Ù„Ø³Ø¤Ø§Ù„ ===== */
        .question-number {
            font-size: 0.8rem;
            color: #c0392b;
            font-weight: bold;
            margin-bottom: 6px;
            letter-spacing: 0.5px;
        }
        .question-text {
            font-size: 1.15rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 6px;
            line-height: 1.5;
        }
        .question-hint {
            font-size: 0.82rem;
            color: #7f8c8d;
            margin-bottom: 20px;
            line-height: 1.5;
            border-right: 3px solid #f39c12;
            padding-right: 10px;
            background: rgba(243,156,18,0.06);
            padding: 8px 10px;
            border-radius: 0 6px 6px 0;
        }

        /* ===== Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ===== */
        .input-group {
            margin-bottom: 20px;
        }
        .input-group input[type="number"],
        .input-group input[type="text"],
        .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #dde4ec;
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            color: #2c3e50;
            background: #fafcfe;
            transition: border-color 0.2s;
            text-align: right;
            direction: rtl;
        }
        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #5a7fb5;
        }

        /* ===== Ø£Ø²Ø±Ø§Ø± Ù†Ø¹Ù…/Ù„Ø§ ===== */
        .yn-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 10px;
        }
        .btn-yes, .btn-no {
            flex: 1;
            padding: 14px;
            font-size: 1.05rem;
            font-weight: bold;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.15s, box-shadow 0.15s;
            font-family: inherit;
        }
        .btn-yes {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            box-shadow: 0 4px 12px rgba(39,174,96,0.3);
        }
        .btn-yes:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(39,174,96,0.4); }
        .btn-no {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            color: white;
            box-shadow: 0 4px 12px rgba(192,57,43,0.3);
        }
        .btn-no:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(192,57,43,0.4); }

        .btn-yes.selected { outline: 3px solid #145a32; }
        .btn-no.selected  { outline: 3px solid #7b241c; }

        /* ===== Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ ===== */
        .btn-next {
            width: 100%;
            padding: 13px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            font-family: inherit;
            transition: transform 0.15s, box-shadow 0.15s;
            box-shadow: 0 4px 12px rgba(90,127,181,0.3);
            margin-top: 8px;
        }
        .btn-next:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(90,127,181,0.4); }
        .btn-next:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

        /* ===== Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ===== */
        .result-card {
            display: none;
            background: white;
            border-radius: 18px;
            padding: 30px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.12);
            text-align: center;
        }
        .result-icon { font-size: 4rem; margin-bottom: 15px; }
        .result-title {
            font-size: 1.6rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .result-title.sell   { color: #c0392b; }
        .result-title.hold   { color: #27ae60; }
        .result-title.review { color: #f39c12; }

        .result-summary {
            font-size: 0.95rem;
            color: #555;
            line-height: 1.7;
            margin-bottom: 20px;
            text-align: right;
        }

        /* ===== ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ ===== */
        .factors-section {
            background: #f7f9fc;
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 20px;
            text-align: right;
        }
        .factors-section h4 {
            font-size: 0.95rem;
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 12px;
        }
        .factor-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.88rem;
            color: #444;
            line-height: 1.5;
        }
        .factor-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-top: 4px;
            flex-shrink: 0;
        }
        .dot-sell { background: #e74c3c; }
        .dot-hold { background: #27ae60; }
        .dot-neutral { background: #f39c12; }

        /* ===== Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ù‚Ø±Ø§Ø± ===== */
        .score-meter {
            margin: 20px 0;
        }
        .score-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 6px;
        }
        .score-bar-wrap {
            background: #eef2f7;
            border-radius: 10px;
            height: 14px;
            overflow: hidden;
        }
        .score-bar-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.6s ease;
        }
        .score-text {
            font-size: 0.85rem;
            color: #555;
            margin-top: 6px;
            text-align: center;
        }

        /* ===== Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ===== */
        .btn-restart {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: bold;
            cursor: pointer;
            font-family: inherit;
            transition: transform 0.15s;
            margin-top: 10px;
        }
        .btn-restart:hover { transform: translateY(-2px); }

        /* ===== ØªØ­Ø°ÙŠØ± Ù„Ø§Ø¦Ø­ÙŠ ===== */
        .disclaimer-box {
            background: rgba(243,156,18,0.08);
            border: 1px solid rgba(243,156,18,0.35);
            border-radius: 10px;
            padding: 14px 16px;
            font-size: 0.8rem;
            color: #7d6608;
            line-height: 1.6;
            margin-top: 20px;
            text-align: right;
        }

        /* ===== Back to Top ===== */
        .back-to-top {
            position: fixed; bottom: 30px; left: 30px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 50%;
            width: 48px; height: 48px; font-size: 1.3rem;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(90,127,181,0.4);
            transition: transform 0.3s, opacity 0.3s;
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center;
            z-index: 999;
        }
        .back-to-top.visible { opacity: 1; pointer-events: auto; }
        .back-to-top:hover { transform: translateY(-3px); }

        @media (max-width: 600px) {
            .page-header h1 { font-size: 1.7rem; }
            .advisor-card { padding: 20px; }
            .question-text { font-size: 1rem; }
            .yn-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>

<button class="back-to-top" id="backToTop"
        onclick="window.scrollTo({top:0,behavior:'smooth'})"
        title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰">â†‘</button>

<div class="container">

    <!-- ===== Navbar ===== -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">ğŸ“ˆ Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±</a>
            <button class="navbar-toggle" onclick="toggleNavbar()">â˜°</button>
            <div class="navbar-menu" id="navbarMenu">
                <a href="index.html"                     class="navbar-item">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="advice.html"                    class="navbar-item calculator">ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ©</a>
                <a href="salary_calculator.html"         class="navbar-item salary">ğŸ’¼ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø±Ø§ØªØ¨</a>
                <a href="zakat_purification.html"        class="navbar-item zakat">ğŸ•Œ Ø§Ù„Ø²ÙƒØ§Ø©</a>
                <a href="financial_freedom.html"         class="navbar-item fire">ğŸ”¥ Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</a>
                <a href="investor_tips.html"             class="navbar-item tips">âš ï¸ Ù†ØµØ§Ø¦Ø­</a>
                <a href="snowball_calculator.html"       class="navbar-item calculator">â„ï¸ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø±ÙƒØ¨</a>
                <a href="emergency_fund_calculator.html" class="navbar-item emergency">ğŸ›¡ï¸ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</a>
                <a href="average_calculator.html"        class="navbar-item average">ğŸ“Š Ù…ØªÙˆØ³Ø· Ø§Ù„Ø´Ø±Ø§Ø¡</a>
                <a href="company_valuation.html"         class="navbar-item company">ğŸ¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´Ø±ÙƒØ©</a>
                <a href="retirement_calculator.html"     class="navbar-item retirement">ğŸ–ï¸ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</a>
                <a href="portfolio_rating.html"          class="navbar-item portfolio">ğŸ›¡ï¸ Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>
                <a href="stock_valuation.html"           class="navbar-item calculator">ğŸ“Š ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø³Ù‡Ù…</a>
                <a href="dca_calculator.html"            class="navbar-item calculator">ğŸ“… DCA</a>
                <a href="sell_decision.html"             class="navbar-item calculator">ğŸ¤” Ù‡Ù„ Ø£Ø¨ÙŠØ¹ØŸ</a>
            </div>
        </div>
    </nav>

    <script>
        function toggleNavbar() {
            document.getElementById('navbarMenu').classList.toggle('open');
        }
        document.addEventListener('DOMContentLoaded', function () {
            const raw  = window.location.pathname.split('/').pop() || 'index.html';
            const page = raw.split('?')[0].split('#')[0] || 'index.html';
            document.querySelectorAll('.navbar-item').forEach(function (item) {
                item.classList.remove('active');
                const href = (item.getAttribute('href') || '').split('?')[0].split('#')[0];
                if (href === page) item.classList.add('active');
            });
        });
    </script>

    <!-- ===== Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© ===== -->
    <div class="page-header">
        <h1>ğŸ¤” Ù‡Ù„ Ø£Ø¨ÙŠØ¹ Ø³Ù‡Ù…ÙŠØŸ</h1>
        <p>Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ø­Ø§ÙŠØ¯Ø© Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ù…Ø¹Ø·ÙŠØ§ØªÙƒ Ø§Ù„ÙØ¹Ù„ÙŠØ© â€” Ù„Ø§ Ø¹ÙˆØ§Ø·ÙØŒ Ù„Ø§ ØªØ®Ù…ÙŠÙ†<br>
        Ø£Ø¬Ø¨ Ø¨ØµØ¯Ù‚ ÙˆØ³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠØ© Ù…Ø¯Ø±ÙˆØ³Ø©</p>
    </div>

    <!-- ===== Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ===== -->
    <div class="advisor-card" id="questionCard">
        <div class="progress-label"><span id="progressText">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 10</span></div>
        <div class="progress-bar-wrap">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
        <div id="questionBody"></div>
    </div>

    <!-- ===== Ø§Ù„Ù†ØªÙŠØ¬Ø© ===== -->
    <div class="result-card" id="resultCard"></div>

    <div class="disclaimer-box">
        âš ï¸ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© ÙÙ‚Ø·. Ù„Ø§ ØªÙØ¹Ø¯Ù‘ ØªÙˆØµÙŠØ© Ù…Ø§Ù„ÙŠØ© Ø±Ø³Ù…ÙŠØ©.
        Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ ÙŠØ¹ÙˆØ¯ Ù„Ùƒ. Ø§Ø³ØªØ´Ø± Ù…Ø³ØªØ´Ø§Ø±Ø§Ù‹ Ù…Ø±Ø®ØµØ§Ù‹ Ù‚Ø¨Ù„ Ø£ÙŠ Ø®Ø·ÙˆØ© Ù…Ù‡Ù…Ø©.
    </div>

</div><!-- end .container -->

<!-- GoatCounter tracking -->
<script data-goatcounter="https://investornote.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<script>
/* ============================================================
   Ù…Ø­Ø±Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© â€” Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±
   "Ù‡Ù„ Ø£Ø¨ÙŠØ¹ Ø³Ù‡Ù…ÙŠØŸ"
   Ø§Ù„Ù…Ù†Ø·Ù‚: ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ù„Ù‡ ÙˆØ²Ù† (+/-).
   ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù†Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ ÙˆÙ†ØµØ¯Ø± Ø§Ù„Ø­ÙƒÙ….
============================================================ */

const questions = [
    {
        id: 'q1',
        type: 'yn',
        text: 'Ù‡Ù„ ØªØ¹Ø±Ù Ø³Ø¨Ø¨Ø§Ù‹ ÙˆØ§Ø¶Ø­Ø§Ù‹ ÙˆØ±Ø§Ø¡ Ù‡Ø¨ÙˆØ· Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø¢Ù†ØŸ',
        hint: 'Ù‚ØµØ¯ Ø¨Ø§Ù„Ø³Ø¨Ø¨: Ø®Ø¨Ø± Ø³Ù„Ø¨ÙŠ Ù…Ø¤Ø«Ø±ØŒ ØªØ±Ø§Ø¬Ø¹ Ø£Ø±Ø¨Ø§Ø­ØŒ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø´Ø±ÙƒØ© â€” Ù„Ø§ Ù…Ø¬Ø±Ø¯ Ø­Ø±ÙƒØ© Ø³ÙˆÙ‚ Ø¹Ø§Ù…Ø©.',
        weightYes: -1,   // ÙŠØ¹Ø±Ù Ø§Ù„Ø³Ø¨Ø¨ â†’ Ù…Ø²ÙŠØ¯ ØªÙ‚ÙŠÙŠÙ… Ù‚Ø¨Ù„ Ø§Ù„Ø¨ÙŠØ¹
        weightNo: +2,    // Ù„Ø§ ÙŠØ¹Ø±Ù â†’ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù‡Ù„Ø¹ â†’ Ø§Ø­ØªÙØ¸
        hintYes: 'Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø³Ø¨Ø¨ Ù…Ù‡Ù…Ø© â€” Ø³ØªÙÙ‚ÙŠÙÙ‘Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª Ù…Ø¹ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª.',
        hintNo: 'Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø¯ÙˆÙ† ÙÙ‡Ù… Ø§Ù„Ø³Ø¨Ø¨ Ù‚Ø±Ø§Ø± Ø¹Ø§Ø·ÙÙŠ ÙÙŠ Ø§Ù„ØºØ§Ù„Ø¨. Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± Ø§Ù„Ù…Ø­ØªØ±Ù ÙŠÙÙ‡Ù… Ù‚Ø¨Ù„ Ø£Ù† ÙŠØªØµØ±Ù.'
    },
    {
        id: 'q2',
        type: 'number',
        text: 'Ø¨ÙƒÙ… Ø§Ø´ØªØ±ÙŠØª Ø§Ù„Ø³Ù‡Ù… ÙÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·ØŸ (Ø³Ø¹Ø± Ø§Ù„ØªÙƒÙ„ÙØ© Ø¨Ø§Ù„Ø±ÙŠØ§Ù„)',
        hint: 'Ø§Ø¯Ø®Ù„ Ù…ØªÙˆØ³Ø· Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ù„ÙƒÙ„ Ø§Ù„Ø¯ÙØ¹Ø§Øª.',
        placeholder: 'Ù…Ø«Ø§Ù„: 45.50',
        key: 'costPrice'
    },
    {
        id: 'q3',
        type: 'number',
        text: 'Ù…Ø§ Ø³Ø¹Ø± Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ØŸ (Ø¨Ø§Ù„Ø±ÙŠØ§Ù„)',
        hint: 'Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù„Ø­Ø¸ÙŠ Ø§Ù„Ø¢Ù†.',
        placeholder: 'Ù…Ø«Ø§Ù„: 38.00',
        key: 'currentPrice'
    },
    {
        id: 'q4',
        type: 'yn',
        text: 'Ù‡Ù„ Ø§Ù„Ø´Ø±ÙƒØ© Ø±Ø¨Ø­ÙŠØ© ÙˆØªÙˆØ²Ù‘Ø¹ Ø£Ø±Ø¨Ø§Ø­Ø§Ù‹ Ø¨Ø§Ù†ØªØ¸Ø§Ù…ØŸ',
        hint: 'ÙŠÙƒÙÙŠ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø«Ø§Ø¨ØªØ© ÙÙŠ Ø¢Ø®Ø± 3 Ø³Ù†ÙˆØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.',
        weightYes: +3,
        weightNo: -2,
        hintYes: 'Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø±Ø¨Ø­ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø© ÙÙŠ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ù†Ø§Ø¯Ø±Ø§Ù‹ Ù…Ø§ ØªÙØ¨Ø§Ø¹ ÙÙŠ Ø§Ù„Ù‡Ø¨Ø·Ø§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©.',
        hintNo: 'Ø´Ø±ÙƒØ© Ù„Ø§ ØªÙÙ†ØªØ¬ Ø£Ø±Ø¨Ø§Ø­Ø§Ù‹ ÙˆÙ„Ø§ ØªÙÙˆØ²Ù‘Ø¹ â€” ØªØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ø¯ÙŠØ© Ù„Ù„Ù…ÙˆÙ‚Ù.'
    },
    {
        id: 'q5',
        type: 'yn',
        text: 'Ù‡Ù„ Ù‡Ø¨ÙˆØ· Ø§Ù„Ø³Ù‡Ù… Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø§Ù… Ù„Ø§ Ø§Ù„Ø´Ø±ÙƒØ© ØªØ­Ø¯ÙŠØ¯Ø§Ù‹ØŸ',
        hint: 'Ù…Ø«Ø§Ù„: Ø§Ù†Ø®ÙØ¶ Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø¹Ø§Ù… ÙˆÙ†Ø²Ù„ Ù…Ø¹Ù‡ Ø³Ù‡Ù…Ùƒ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø¨Ø§Ø± Ø®Ø§ØµØ© Ø¨Ù‡.',
        weightYes: +3,
        weightNo: -1,
        hintYes: 'Ù‡Ø¨ÙˆØ· Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø§Ù… ÙØ±ØµØ© ØªØ§Ø±ÙŠØ®ÙŠØ§Ù‹ â€” Ù…Ù† ÙŠØ¨ÙŠØ¹ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¹ ÙŠÙ†Ø¯Ù… ØºØ§Ù„Ø¨Ø§Ù‹.',
        hintNo: 'Ø§Ù„Ù‡Ø¨ÙˆØ· Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø´Ø±ÙƒØ© Ø£ÙƒØ«Ø± Ø®Ø·ÙˆØ±Ø© ÙˆÙŠØ³ØªÙˆØ¬Ø¨ ØªØ­Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù…ÙŠÙ‚Ø§Ù‹.'
    },
    {
        id: 'q6',
        type: 'yn',
        text: 'Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙØ¹Ù„ÙŠ ÙˆØ¹Ø§Ø¬Ù„ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø§Ù„Ø¢Ù†ØŸ',
        hint: 'Ø¯ÙŠÙ† ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø³Ø¯Ø§Ø¯ØŒ Ø¶Ø±ÙˆØ±Ø© Ø­ÙŠØ§ØªÙŠØ©ØŒ Ø£Ùˆ ÙØ±ØµØ© Ø£ÙØ¶Ù„ Ù…Ø¤ÙƒØ¯Ø©.',
        weightYes: -3,
        weightNo: +2,
        hintYes: 'Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ­ØªØ§Ø¬ Ø§Ù„Ù†Ù‚Ø¯ ÙØ¹Ù„Ø§Ù‹ â€” Ø§Ù„Ø¨ÙŠØ¹ Ù…Ø¨Ø±Ø±. Ù„ÙƒÙ† ØªØ£ÙƒØ¯ Ø£Ù†Ù‡Ø§ Ø¶Ø±ÙˆØ±Ø© Ù„Ø§ Ø±ÙØ§Ù‡ÙŠØ©.',
        hintNo: 'Ø¥Ø°Ø§ Ù„Ù… ØªØ­ØªØ¬ Ù„Ù„Ù…Ø§Ù„ Ø§Ù„Ø¢Ù† â€” Ø§Ù„ÙˆÙ‚Øª ÙÙŠ ØµÙÙƒ. Ø§Ù„ØµØ¨Ø± Ø£Ù‚ÙˆÙ‰ Ø³Ù„Ø§Ø­ Ù„Ù„Ù…Ø³ØªØ«Ù…Ø±.'
    },
    {
        id: 'q7',
        type: 'yn',
        text: 'Ù‡Ù„ ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø´Ø±ÙƒØ© (Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ©) Ù…Ø¤Ø®Ø±Ø§Ù‹ØŸ',
        hint: 'Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„ÙØµÙ„ÙŠØ©ØŒ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙ†ØŒ Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­.',
        weightYes: +1,
        weightNo: -2,
        hintYes: 'Ù…Ù…ØªØ§Ø². Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± Ø§Ù„Ø°ÙŠ ÙŠØªØ§Ø¨Ø¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª ÙŠØªØ®Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ø£Ù‡Ø¯Ø£ ÙˆØ£ØµØ­.',
        hintNo: 'Ø§Ù„Ø¨ÙŠØ¹ Ù‚Ø¨Ù„ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù‚Ø±Ø§Ø± Ø¹Ø´ÙˆØ§Ø¦ÙŠ. Ø®ØµØµ 30 Ø¯Ù‚ÙŠÙ‚Ø© Ù‚Ø¨Ù„ Ø£ÙŠ Ù‚Ø±Ø§Ø±.'
    },
    {
        id: 'q8',
        type: 'yn',
        text: 'Ù‡Ù„ ÙŠØ²ÙŠØ¯ Ø®Ø³Ø§Ø±ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¹Ù† 30% Ù…Ù† Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±ØŸ',
        hint: 'Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ.',
        weightYes: -1,
        weightNo: +1,
        hintYes: 'Ø®Ø³Ø§Ø±Ø© 30%+ Ù…Ø¤Ù„Ù…Ø©. Ù„ÙƒÙ† Ù‡Ù„ Ø§Ù„Ø³Ø¨Ø¨ Ù…Ø¤Ù‚Øª Ø£Ù… Ø¨Ù†ÙŠÙˆÙŠØŸ Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ.',
        hintNo: 'Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ù„Ø§ ØªØ²Ø§Ù„ Ù…Ø­Ø¯ÙˆØ¯Ø© â€” Ø¹Ø§Ø¯Ø©Ù‹ Ù„Ø§ Ù…Ø¨Ø±Ø± Ù„Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…ØªØ³Ø±Ø¹ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©.'
    },
    {
        id: 'q9',
        type: 'yn',
        text: 'Ù‡Ù„ Ù‡Ù†Ø§Ùƒ Ø¨Ø¯ÙŠÙ„ Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠ Ø£ÙØ¶Ù„ ÙˆØ§Ø¶Ø­ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„ÙŠÙ‡ØŸ',
        hint: 'Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ ØªÙˆÙ‚Ø¹ØŒ Ø¨Ù„ ÙØ±ØµØ© Ù…Ø­Ø¯Ø¯Ø© Ø¯Ø±Ø³ØªÙ‡Ø§ Ø¬ÙŠØ¯Ø§Ù‹.',
        weightYes: -1,
        weightNo: +2,
        hintYes: 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ®ØµÙŠØµ Ù…Ø´Ø±ÙˆØ¹Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ÙØ±ØµØ© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ù…Ø¯Ø±ÙˆØ³Ø© â€” Ù„Ø§ Ù…Ø¬Ø±Ø¯ Ø´Ø§Ø¦Ø¹Ø©.',
        hintNo: 'Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø¯ÙˆÙ† Ø¨Ø¯ÙŠÙ„ ÙˆØ§Ø¶Ø­ ÙŠØ¹Ù†ÙŠ Ø¬Ù„ÙˆØ³ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ ÙƒØ§Ø´ â€” Ø§Ù„ØªØ¶Ø®Ù… ÙŠØ£ÙƒÙ„Ù‡Ø§ Ø¨Ø¨Ø·Ø¡.'
    },
    {
        id: 'q10',
        type: 'yn',
        text: 'Ù‡Ù„ ØªØ´Ø¹Ø± Ø¨Ø¶ØºØ· Ù†ÙØ³ÙŠ Ø£Ùˆ Ø®ÙˆÙ Ù‡Ùˆ Ø§Ù„Ø³Ø¨Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ø±ØºØ¨ØªÙƒ ÙÙŠ Ø§Ù„Ø¨ÙŠØ¹ØŸ',
        hint: 'ÙƒÙ† ØµØ§Ø¯Ù‚Ø§Ù‹ Ù…Ø¹ Ù†ÙØ³Ùƒ. Ø§Ù„Ø®ÙˆÙ Ù…Ø´Ø§Ø¹Ø± Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„ÙƒÙ†Ù‡Ø§ Ø¹Ø¯Ùˆ Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ø±Ø´ÙŠØ¯.',
        weightYes: +3,
        weightNo: -1,
        hintYes: 'Ø§Ù„Ø®ÙˆÙ Ø£ÙƒØ¨Ø± Ø³Ø¨Ø¨ Ù„Ù„Ø¨ÙŠØ¹ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¹. Ø®Ø° Ù†ÙØ³Ø§Ù‹ØŒ Ø§Ù†ØªØ¸Ø± ÙŠÙˆÙ…ÙŠÙ†ØŒ Ø«Ù… Ù‚Ø±Ø± Ø¨Ø±Ø£Ø³ Ø¨Ø§Ø±Ø¯.',
        hintNo: 'Ù…Ù…ØªØ§Ø². Ù‚Ø±Ø§Ø±Ùƒ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ ØªÙÙƒÙŠØ± Ù„Ø§ Ù…Ø´Ø§Ø¹Ø± â€” Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¶Ø§Ø±Ø¨ ÙˆØ§Ù„Ù…Ø³ØªØ«Ù…Ø±.'
    }
];

/* ===== Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© ===== */
let currentQ    = 0;
let scores      = [];   // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„
let answers     = {};   // Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
let pendingYN   = null; // Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ù†Ø¹Ù…/Ù„Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ù„ÙŠ
let pendingHint = '';

/* ===== Ø±Ø³Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ ===== */
function renderQuestion() {
    const q   = questions[currentQ];
    const pct = Math.round((currentQ / questions.length) * 100);
    document.getElementById('progressBar').style.width  = pct + '%';
    document.getElementById('progressText').textContent =
        'Ø§Ù„Ø³Ø¤Ø§Ù„ ' + (currentQ + 1) + ' Ù…Ù† ' + questions.length;

    let html = '';
    html += '<div class="question-number">Ø§Ù„Ø³Ø¤Ø§Ù„ ' + (currentQ + 1) + '</div>';
    html += '<div class="question-text">' + q.text + '</div>';
    html += '<div class="question-hint">' + q.hint + '</div>';

    if (q.type === 'yn') {
        html += `
            <div class="yn-buttons">
                <button class="btn-yes" id="btnYes" onclick="selectYN('yes')">âœ… Ù†Ø¹Ù…</button>
                <button class="btn-no"  id="btnNo"  onclick="selectYN('no')">âŒ Ù„Ø§</button>
            </div>
            <div id="ynHint" style="font-size:0.82rem;color:#555;min-height:36px;margin-bottom:10px;"></div>
            <button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>Ø§Ù„ØªØ§Ù„ÙŠ â—€</button>
        `;
    } else if (q.type === 'number') {
        html += `
            <div class="input-group">
                <input type="number" id="numInput" placeholder="${q.placeholder}" min="0" step="0.01"
                       oninput="validateNumber()">
            </div>
            <button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>Ø§Ù„ØªØ§Ù„ÙŠ â—€</button>
        `;
    }

    document.getElementById('questionBody').innerHTML = html;
    pendingYN   = null;
    pendingHint = '';

    // ÙÙˆÙƒØ³ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
    if (q.type === 'number') {
        setTimeout(() => document.getElementById('numInput').focus(), 50);
    }
}

/* ===== Ø§Ø®ØªÙŠØ§Ø± Ù†Ø¹Ù…/Ù„Ø§ ===== */
function selectYN(val) {
    pendingYN = val;
    const q   = questions[currentQ];
    document.getElementById('btnYes').classList.toggle('selected', val === 'yes');
    document.getElementById('btnNo').classList.toggle('selected',  val === 'no');
    const hint = val === 'yes' ? q.hintYes : q.hintNo;
    document.getElementById('ynHint').textContent = hint;
    document.getElementById('btnNext').disabled = false;
}

/* ===== Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù‚Ù… ===== */
function validateNumber() {
    const v = parseFloat(document.getElementById('numInput').value);
    document.getElementById('btnNext').disabled = isNaN(v) || v <= 0;
}

/* ===== Ø§Ù„ØªØ§Ù„ÙŠ ===== */
function nextQuestion() {
    const q = questions[currentQ];

    if (q.type === 'yn') {
        const w = pendingYN === 'yes' ? q.weightYes : q.weightNo;
        scores.push({ id: q.id, answer: pendingYN, weight: w, text: q.text,
                      hint: pendingYN === 'yes' ? q.hintYes : q.hintNo });
        answers[q.id] = pendingYN;
    } else if (q.type === 'number') {
        const v = parseFloat(document.getElementById('numInput').value);
        answers[q.key] = v;
        scores.push({ id: q.id, answer: v, weight: 0, text: q.text, hint: '' });
    }

    currentQ++;
    if (currentQ < questions.length) {
        renderQuestion();
    } else {
        showResult();
    }
}

/* ===== Ø§Ù„Ù†ØªÙŠØ¬Ø© ===== */
function showResult() {
    document.getElementById('questionCard').style.display = 'none';
    document.getElementById('progressBar').style.width = '100%';

    /* Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· */
    let total = 0;
    scores.forEach(s => total += s.weight);

    /* ØªØ¹Ø¯ÙŠÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø³Ø§Ø±Ø©/Ø§Ù„Ø±Ø¨Ø­ */
    const cost    = answers.costPrice    || 0;
    const current = answers.currentPrice || 0;
    let changePct = 0;
    if (cost > 0 && current > 0) {
        changePct = ((current - cost) / cost) * 100;
        if (changePct > 20)  total += 2;   // Ø±Ø¨Ø­ ÙƒØ¨ÙŠØ± â†’ ÙÙƒØ± ÙÙŠ Ø¬Ù†ÙŠ
        if (changePct < -40) total -= 2;   // Ø®Ø³Ø§Ø±Ø© Ø¶Ø®Ù…Ø© â†’ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ø¯ÙŠØ©
    }

    /* Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ ÙˆØ§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙˆÙ‚Ø¹ÙŠØ©: -12 â†’ +17 */
    const maxScore = 17;
    const minScore = -12;
    const range    = maxScore - minScore;
    const pct      = Math.min(100, Math.max(0, ((total - minScore) / range) * 100));

    /* Ø§Ù„Ø­ÙƒÙ… */
    let decision, icon, titleClass, summary;

    if (total >= 7) {
        decision   = 'Ø§Ø­ØªÙØ¸ Ø¨Ø§Ù„Ø³Ù‡Ù…';
        icon       = 'ğŸŸ¢';
        titleClass = 'hold';
        summary    = 'Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª ØªØ´ÙŠØ± Ø¨ÙˆØ¶ÙˆØ­ Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ù† Ù‚Ø±Ø§Ø± Ù…ØªØ³Ø±Ø¹. '
                   + 'Ø§Ù„Ø´Ø±ÙƒØ© ØªØ¨Ø¯Ùˆ Ø°Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø¬ÙŠØ¯Ø©ØŒ ÙˆØ§Ù„Ø¶ØºØ· Ø§Ù„Ø­Ø§Ù„ÙŠ ØºØ§Ù„Ø¨Ø§Ù‹ Ù…Ø¤Ù‚Øª. '
                   + 'Ø§Ù„ØµØ¨Ø± Ù‡Ù†Ø§ Ù„ÙŠØ³ Ø¶Ø¹ÙØ§Ù‹ â€” Ù‡Ùˆ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©.';
    } else if (total >= 2) {
        decision   = 'Ø±Ø§Ø¬Ø¹ Ù‚Ø±Ø§Ø±Ùƒ';
        icon       = 'ğŸŸ¡';
        titleClass = 'review';
        summary    = 'Ø§Ù„ØµÙˆØ±Ø© Ø¶Ø¨Ø§Ø¨ÙŠØ©. Ø¨Ø¹Ø¶ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ ØªØ¯Ø¹Ù… Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ ÙˆØ£Ø®Ø±Ù‰ ØªØ³ØªÙˆØ¬Ø¨ Ø§Ù„Ù‚Ù„Ù‚. '
                   + 'Ù„Ø§ ØªØ¨ÙŠØ¹ Ø§Ù„Ø¢Ù† Ø¨Ø¯ÙˆÙ† Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø¹Ù…Ù‚ Ù„Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù‡Ø¨ÙˆØ·. '
                   + 'Ø®Ø° ÙŠÙˆÙ…ÙŠÙ† ÙˆØ¹ÙØ¯ Ù„Ù„Ù‚Ø±Ø§Ø± Ø¨Ø±Ø£Ø³ Ø£Ù‡Ø¯Ø£.';
    } else {
        decision   = 'ÙÙƒÙ‘Ø± Ø¬Ø¯ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ø¨ÙŠØ¹';
        icon       = 'ğŸ”´';
        titleClass = 'sell';
        summary    = 'Ø§Ù„Ù…Ø¹Ø·ÙŠØ§Øª ØªÙØ´ÙŠØ± Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ ÙŠÙ†Ø·ÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø®Ø§Ø·Ø± ØªØ³ØªØ­Ù‚ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…. '
                   + 'Ù‚Ø¨Ù„ Ø§Ù„Ø¨ÙŠØ¹: ØªØ£ÙƒØ¯ Ø£Ù† Ù‚Ø±Ø§Ø±Ùƒ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù„Ø§ Ø§Ù„Ø®ÙˆÙØŒ '
                   + 'ÙˆØ£Ù† Ù„Ø¯ÙŠÙƒ Ø®Ø·Ø© ÙˆØ§Ø¶Ø­Ø© Ù„Ø£ÙŠÙ† Ø³ØªØ°Ù‡Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø¨Ø¹Ø¯Ù‡Ø§.';
    }

    /* Ù„ÙˆÙ† Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ù‚Ø±Ø§Ø± */
    let barColor;
    if (pct >= 60) barColor = 'linear-gradient(90deg, #27ae60, #2ecc71)';
    else if (pct >= 35) barColor = 'linear-gradient(90deg, #f39c12, #f1c40f)';
    else barColor = 'linear-gradient(90deg, #c0392b, #e74c3c)';

    /* Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ */
    let factorsHTML = '';
    scores.forEach(s => {
        if (s.weight === 0 || !s.hint) return;
        const dotClass = s.weight > 0 ? 'dot-hold' : (s.weight < 0 ? 'dot-sell' : 'dot-neutral');
        factorsHTML += `
            <div class="factor-item">
                <div class="factor-dot ${dotClass}"></div>
                <div><strong>${s.text}</strong><br><span style="color:#777;">${s.hint}</span></div>
            </div>`;
    });

    /* Ø¹Ø±Ø¶ ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ø¹Ø± */
    let priceNote = '';
    if (cost > 0 && current > 0) {
        const sign  = changePct >= 0 ? '+' : '';
        const color = changePct >= 0 ? '#27ae60' : '#e74c3c';
        priceNote = `<p style="font-size:0.9rem;color:${color};font-weight:bold;margin-bottom:15px;">
            Ø³Ø¹Ø± Ø´Ø±Ø§Ø¦Ùƒ: ${cost.toFixed(2)} Ø±.Ø³ &nbsp;|&nbsp;
            Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ: ${current.toFixed(2)} Ø±.Ø³ &nbsp;|&nbsp;
            Ø§Ù„ØªØºÙŠÙŠØ±: ${sign}${changePct.toFixed(1)}%
        </p>`;
    }

    const resultHTML = `
        <div class="result-icon">${icon}</div>
        <div class="result-title ${titleClass}">${decision}</div>
        ${priceNote}
        <p class="result-summary">${summary}</p>

        <div class="score-meter">
            <div class="score-label">
                <span>Ø¨ÙŠØ¹ ÙˆØ§Ø¶Ø­</span>
                <span>Ø§Ø­ØªÙØ¸ Ø¨Ø«Ù‚Ø©</span>
            </div>
            <div class="score-bar-wrap">
                <div class="score-bar-fill" style="width:${pct}%;background:${barColor};"></div>
            </div>
            <div class="score-text">Ù…Ø¤Ø´Ø± Ø§Ù„Ø§Ø­ØªÙØ§Ø¸: ${Math.round(pct)}%</div>
        </div>

        <div class="factors-section">
            <h4>ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø¤Ø«Ø±Ø© ÙÙŠ Ø§Ù„ØªÙˆØµÙŠØ©:</h4>
            ${factorsHTML || '<p style="color:#999;font-size:0.85rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹ÙˆØ§Ù…Ù„ Ø¥Ø¶Ø§ÙÙŠØ©.</p>'}
        </div>

        <button class="btn-restart" onclick="restart()">ğŸ”„ ØªÙ‚ÙŠÙŠÙ… Ø³Ù‡Ù… Ø¢Ø®Ø±</button>
    `;

    const rc = document.getElementById('resultCard');
    rc.innerHTML = resultHTML;
    rc.style.display = 'block';
    rc.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

/* ===== Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡ ===== */
function restart() {
    currentQ    = 0;
    scores      = [];
    answers     = {};
    pendingYN   = null;
    document.getElementById('resultCard').style.display = 'none';
    document.getElementById('questionCard').style.display = 'block';
    renderQuestion();
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* ===== Back to Top ===== */
window.addEventListener('scroll', function () {
    document.getElementById('backToTop')
            .classList.toggle('visible', window.scrollY > 300);
});

/* ===== Ø¨Ø¯Ø¡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ===== */
document.addEventListener('DOMContentLoaded', renderQuestion);
</script>
</body>
</html>
