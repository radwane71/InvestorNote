<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูู ุฃุจูุน ุณูููุ โ ูููุฑุฉ ูุณุชุซูุฑ</title>
    <link rel="stylesheet" href="navigation.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #e8f0f5 0%, #d0e0e8 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2c3e50;
        }

        .container { max-width: 780px; margin: 0 auto; }

        .page-header { text-align: center; margin-bottom: 30px; }
        .page-header h1 {
            font-size: 2.2rem; color: #2c3e50;
            font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        .page-header p {
            font-size: 0.95rem; color: #5a7fa0;
            margin-top: 8px; line-height: 1.6;
        }

        .advisor-card {
            background: white; border-radius: 18px;
            padding: 30px; box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            margin-bottom: 20px; position: relative; overflow: hidden;
        }
        .advisor-card::before {
            content: ''; position: absolute; top: 0; right: 0; left: 0;
            height: 5px;
            background: linear-gradient(90deg, #c0392b, #e74c3c, #f39c12);
        }

        .progress-bar-wrap {
            background: #eef2f7; border-radius: 10px;
            height: 8px; margin-bottom: 20px; overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #5a7fb5, #5a9d7a);
            border-radius: 10px; transition: width 0.4s ease; width: 0%;
        }
        .progress-label {
            font-size: 0.78rem; color: #888;
            text-align: left; margin-bottom: 6px; direction: ltr;
        }

        .question-number {
            font-size: 0.8rem; color: #c0392b;
            font-weight: bold; margin-bottom: 6px; letter-spacing: 0.5px;
        }
        .question-text {
            font-size: 1.15rem; font-weight: bold;
            color: #2c3e50; margin-bottom: 6px; line-height: 1.5;
        }
        .question-hint {
            font-size: 0.82rem; color: #7f8c8d;
            margin-bottom: 20px; line-height: 1.5;
            border-right: 3px solid #f39c12;
            background: rgba(243,156,18,0.06);
            padding: 8px 10px; border-radius: 0 6px 6px 0;
        }

        .input-group { margin-bottom: 20px; }
        .input-group input[type="number"] {
            width: 100%; padding: 12px 16px;
            border: 2px solid #dde4ec; border-radius: 10px;
            font-size: 1rem; font-family: inherit; color: #2c3e50;
            background: #fafcfe; transition: border-color 0.2s;
            text-align: right; direction: rtl;
        }
        .input-group input:focus { outline: none; border-color: #5a7fb5; }

        /* ุฃุฒุฑุงุฑ ุงูุงุฎุชูุงุฑ ุงููุชุนุฏุฏ */
        .choice-buttons {
            display: flex; flex-direction: column; gap: 10px; margin-bottom: 10px;
        }
        .btn-choice {
            width: 100%; padding: 13px 16px;
            font-size: 0.97rem; font-weight: bold;
            border: 2px solid #dde4ec; border-radius: 12px;
            cursor: pointer; background: #fafcfe; color: #2c3e50;
            text-align: right; font-family: inherit;
            transition: border-color 0.2s, background 0.2s, transform 0.15s;
        }
        .btn-choice:hover { border-color: #5a7fb5; background: #eef4ff; transform: translateX(-3px); }
        .btn-choice.selected {
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border-color: #4a6fa5;
        }

        /* ุฃุฒุฑุงุฑ ูุนู/ูุง */
        .yn-buttons { display: flex; gap: 12px; margin-bottom: 10px; }
        .btn-yes, .btn-no {
            flex: 1; padding: 14px; font-size: 1.05rem; font-weight: bold;
            border: none; border-radius: 12px; cursor: pointer;
            transition: transform 0.15s, box-shadow 0.15s; font-family: inherit;
        }
        .btn-yes {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white; box-shadow: 0 4px 12px rgba(39,174,96,0.3);
        }
        .btn-yes:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(39,174,96,0.4); }
        .btn-no {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            color: white; box-shadow: 0 4px 12px rgba(192,57,43,0.3);
        }
        .btn-no:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(192,57,43,0.4); }
        .btn-yes.selected { outline: 3px solid #145a32; }
        .btn-no.selected  { outline: 3px solid #7b241c; }

        .btn-next {
            width: 100%; padding: 13px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 12px;
            font-size: 1rem; font-weight: bold; cursor: pointer;
            font-family: inherit;
            transition: transform 0.15s, box-shadow 0.15s;
            box-shadow: 0 4px 12px rgba(90,127,181,0.3);
            margin-top: 8px;
        }
        .btn-next:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(90,127,181,0.4); }
        .btn-next:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

        .result-card {
            display: none; background: white; border-radius: 18px;
            padding: 30px; box-shadow: 0 6px 25px rgba(0,0,0,0.12);
            text-align: center;
        }
        .result-icon { font-size: 4rem; margin-bottom: 15px; }
        .result-title { font-size: 1.6rem; font-weight: bold; margin-bottom: 10px; }
        .result-title.sell   { color: #c0392b; }
        .result-title.hold   { color: #27ae60; }
        .result-title.review { color: #f39c12; }

        .result-summary {
            font-size: 0.95rem; color: #555;
            line-height: 1.7; margin-bottom: 20px; text-align: right;
        }

        .factors-section {
            background: #f7f9fc; border-radius: 12px;
            padding: 18px; margin-bottom: 20px; text-align: right;
        }
        .factors-section h4 {
            font-size: 0.95rem; color: #2c3e50;
            font-weight: bold; margin-bottom: 12px;
        }
        .factor-item {
            display: flex; align-items: flex-start; gap: 10px;
            margin-bottom: 8px; font-size: 0.88rem; color: #444; line-height: 1.5;
        }
        .factor-dot {
            width: 10px; height: 10px; border-radius: 50%;
            margin-top: 4px; flex-shrink: 0;
        }
        .dot-sell { background: #e74c3c; }
        .dot-hold { background: #27ae60; }
        .dot-neutral { background: #f39c12; }

        .score-meter { margin: 20px 0; }
        .score-label {
            display: flex; justify-content: space-between;
            font-size: 0.8rem; color: #888; margin-bottom: 6px;
        }
        .score-bar-wrap {
            background: #eef2f7; border-radius: 10px; height: 14px; overflow: hidden;
        }
        .score-bar-fill {
            height: 100%; border-radius: 10px; transition: width 0.6s ease;
        }
        .score-text { font-size: 0.85rem; color: #555; margin-top: 6px; text-align: center; }

        .btn-restart {
            display: inline-block; padding: 12px 30px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 12px;
            font-size: 0.95rem; font-weight: bold; cursor: pointer;
            font-family: inherit; transition: transform 0.15s; margin-top: 10px;
        }
        .btn-restart:hover { transform: translateY(-2px); }

        .disclaimer-box {
            background: rgba(243,156,18,0.08);
            border: 1px solid rgba(243,156,18,0.35);
            border-radius: 10px; padding: 14px 16px;
            font-size: 0.8rem; color: #7d6608;
            line-height: 1.6; margin-top: 20px; text-align: right;
        }

        .back-to-top {
            position: fixed; bottom: 30px; left: 30px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 50%;
            width: 48px; height: 48px; font-size: 1.3rem;
            cursor: pointer; box-shadow: 0 4px 15px rgba(90,127,181,0.4);
            transition: transform 0.3s, opacity 0.3s;
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center; z-index: 999;
        }
        .back-to-top.visible { opacity: 1; pointer-events: auto; }
        .back-to-top:hover { transform: translateY(-3px); }

        @media (max-width: 600px) {
            .page-header h1 { font-size: 1.7rem; }
            .advisor-card { padding: 20px; }
            .question-text { font-size: 1rem; }
            .yn-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>

<button class="back-to-top" id="backToTop"
        onclick="window.scrollTo({top:0,behavior:'smooth'})"
        title="ุงูุนูุฏุฉ ููุฃุนูู" aria-label="ุงูุนูุฏุฉ ููุฃุนูู">โ</button>

<div class="container">

    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">๐ ูููุฑุฉ ูุณุชุซูุฑ</a>
            <button class="navbar-toggle" onclick="toggleNavbar()">โฐ</button>
            <div class="navbar-menu" id="navbarMenu">
                <a href="index.html"                     class="navbar-item">๐ ุงูุฑุฆูุณูุฉ</a>
                <a href="advice.html"                    class="navbar-item calculator">๐ฐ ุตุงูู ุงูุซุฑูุฉ</a>
                <a href="salary_calculator.html"         class="navbar-item salary">๐ผ ุชูุณูู ุงูุฑุงุชุจ</a>
                <a href="zakat_purification.html"        class="navbar-item zakat">๐ ุงูุฒูุงุฉ</a>
                <a href="financial_freedom.html"         class="navbar-item fire">๐ฅ ุงูุญุฑูุฉ ุงููุงููุฉ</a>
                <a href="investor_tips.html"             class="navbar-item tips">โ๏ธ ูุตุงุฆุญ</a>
                <a href="snowball_calculator.html"       class="navbar-item calculator">โ๏ธ ุงูุนุงุฆุฏ ุงููุฑูุจ</a>
                <a href="emergency_fund_calculator.html" class="navbar-item emergency">๐ก๏ธ ุงูุทูุงุฑุฆ</a>
                <a href="average_calculator.html"        class="navbar-item average">๐ ูุชูุณุท ุงูุดุฑุงุก</a>
                <a href="company_valuation.html"         class="navbar-item company">๐ข ุชูููู ุงูุดุฑูุฉ</a>
                <a href="retirement_calculator.html"     class="navbar-item retirement">๐๏ธ ุงูุชูุงุนุฏ</a>
                <a href="portfolio_rating.html"          class="navbar-item portfolio">๐ก๏ธ ุฃูุงู ุงููุญูุธุฉ</a>
                <a href="stock_valuation.html"           class="navbar-item calculator">๐ ุชูููู ุงูุฃุณูู</a>
                <a href="dca_calculator.html"            class="navbar-item calculator">๐ DCA</a>
                <a href="sell_decision.html"             class="navbar-item calculator">๐ค ูู ุฃุจูุนุ</a>
            </div>
        </div>
    </nav>

    <script>
        function toggleNavbar() {
            document.getElementById('navbarMenu').classList.toggle('open');
        }
        document.addEventListener('DOMContentLoaded', function () {
            const raw  = window.location.pathname.split('/').pop() || 'index.html';
            const page = raw.split('?')[0].split('#')[0] || 'index.html';
            document.querySelectorAll('.navbar-item').forEach(function (item) {
                item.classList.remove('active');
                const href = (item.getAttribute('href') || '').split('?')[0].split('#')[0];
                if (href === page) item.classList.add('active');
            });
        });
    </script>

    <div class="page-header">
        <h1>๐ค ูู ุฃุจูุน ุณูููุ</h1>
        <p>ุฌุงูุจ ุจุตุฏู ุนูู ุงูุฃุณุฆูุฉ ูุณุชุทูุน ูู ุชูุตูุฉ ูุฏุฑูุณุฉ<br>
        <small style="color:#aaa;">ูุง ุนูุงุทูุ ูุง ุชุฎููู โ ููุท ุฃุฑูุงู ููุงูุน</small></p>
    </div>

    <div class="advisor-card" id="questionCard">
        <div class="progress-label"><span id="progressText">ุงูุณุคุงู 1 ูู 12</span></div>
        <div class="progress-bar-wrap">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
        <div id="questionBody"></div>
    </div>

    <div class="result-card" id="resultCard"></div>

    <div class="disclaimer-box">
        โ๏ธ ูุฐู ุงูุฃุฏุงุฉ ุชุนููููุฉ ุฅุฑุดุงุฏูุฉ ููุท. ูุง ุชูุนุฏู ุชูุตูุฉ ูุงููุฉ ุฑุณููุฉ.
        ุงููุฑุงุฑ ุงูููุงุฆู ูุนูุฏ ูู. ุงุณุชุดุฑ ูุณุชุดุงุฑุงู ูุฑุฎุตุงู ูุจู ุฃู ุฎุทูุฉ ูููุฉ.
    </div>

</div>

<script data-goatcounter="https://investornote.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<script>
/*
   ูุญุฑู ุงูุฃุณุฆูุฉ โ "ูู ุฃุจูุน ุณูููุ"
   12 ุณุคุงู โ ูู ุณุคุงู ูู ูุฒูุ ุงููุฌููุน ูุญุฏุฏ ุงูุชูุตูุฉ
*/

const questions = [

    /* โโ ุงูุณุคุงู 1: ุณุจุจ ุงููุจูุท โโ */
    {
        id: 'q1',
        type: 'choice',
        text: 'ููุด ุงูุณูู ูุงุฒูุ ูุด ุฃูุฑุจ ุดูุก ููุถุนูุ',
        hint: 'ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุฃูุฑุจ ูููุงูุน.',
        choices: [
            { label: '๐ ุงูุณูู ููู ูุงุฒู ูุณููู ูุฒู ูุนู ุจุฏูู ุณุจุจ ุฎุงุต', weight: +3,
              hint: 'ูุจูุท ุงูุณูู ุงูุนุงู ูุฑุตุฉ ุชุงุฑูุฎูุงู. ูู ุจุงุน ูู ูู ูุจุทุฉ ุฎุณุฑ ูุซูุฑุงู.' },
            { label: '๐ฐ ุฎุจุฑ ุฃู ุฅุนูุงู ุณูุจู ุฎุงุต ุจุงูุดุฑูุฉ', weight: -1,
              hint: 'ุฎุจุฑ ุณูุจู ูุณุชูุฌุจ ุชุญููู ุงูุฃุซุฑ ุงููุนูู ุนูู ุงูุฃุฑุจุงุญ ูุจู ุงูุจูุน.' },
            { label: '๐ ุชุฑุงุฌุน ูู ุฃุฑุจุงุญ ุงูุดุฑูุฉ ุฃู ุชูุฒูุนุงุชูุง', weight: -2,
              hint: 'ุชุฑุงุฌุน ุงูุฃุฑุจุงุญ ุฅุดุงุฑุฉ ุจููููุฉ ุชุญุชุงุฌ ูุฑุงุฌุนุฉ ุฌุฏูุฉ ููุณุชูุจู ุงูุดุฑูุฉ.' },
            { label: 'โ ูุง ุฃุนุฑู ุงูุณุจุจ ุจุงูุถุจุท', weight: +2,
              hint: 'ุงูุจูุน ุจุฏูู ููู ุงูุณุจุจ ูุฑุงุฑ ุนุงุทูู. ุงุจุญุซ ุฃููุงู ุซู ูุฑุฑ.' }
        ]
    },

    /* โโ ุงูุณุคุงู 2: ุณุนุฑ ุงูุดุฑุงุก โโ */
    {
        id: 'q2',
        type: 'number',
        text: 'ุจูู ุงุดุชุฑูุช ุงูุณููุ (ูุชูุณุท ุณุนุฑู)',
        hint: 'ูู ุงุดุชุฑูุช ุฃูุซุฑ ูู ูุฑุฉุ ุงุฏุฎู ุงููุชูุณุท.',
        placeholder: 'ูุซุงู: 45.50',
        key: 'costPrice'
    },

    /* โโ ุงูุณุคุงู 3: ุงูุณุนุฑ ุงูุญุงูู โโ */
    {
        id: 'q3',
        type: 'number',
        text: 'ูู ุณุนุฑ ุงูุณูู ุงูุญูู ูู ุงูุณููุ',
        hint: 'ุงูุณุนุฑ ุงููู ุชุดููู ุงูุขู ูู ุชุทุจูู ุงูุชุฏุงูู.',
        placeholder: 'ูุซุงู: 38.00',
        key: 'currentPrice'
    },

    /* โโ ุงูุณุคุงู 4: ุฑุจุญูุฉ ุงูุดุฑูุฉ โโ */
    {
        id: 'q4',
        type: 'choice',
        text: 'ุงูุดุฑูุฉ ูุฐู ุฑุจุญูุฉุ',
        hint: 'ุดูู ุขุฎุฑ ูุชุงุฆุฌูุง ุงููุตููุฉ ุฃู ุงูุณูููุฉ.',
        choices: [
            { label: 'โ ูุนูุ ุฑุจุญูุฉ ูุฃุฑุจุงุญูุง ุชููู ุฃู ุซุงุจุชุฉ', weight: +3,
              hint: 'ุดุฑูุฉ ุฑุจุญูุฉ ุจููู ุซุงุจุช ูู ุฃููู ุนูุงูุงุช ุงูุงุญุชูุงุธ.' },
            { label: '๐ ุฑุจุญูุฉ ููู ุฃุฑุจุงุญูุง ุชุฑุงุฌุนุช ูู ุขุฎุฑ ุณูุฉ ุฃู ุณูุชูู', weight: 0,
              hint: 'ุชุฑุงุฌุน ูุคูุช ุฃู ุชุฑุงุฌุน ุจููููุ ูุฐุง ุงูุณุคุงู ูุญุฏุฏ ูู ุดูุก.' },
            { label: 'โ ุฎุณุฑุงูุฉ ุฃู ุนูู ุญุงูุฉ ุงูุชุนุงุฏู', weight: -3,
              hint: 'ุดุฑูุฉ ุฎุณุฑุงูุฉ ุจุฏูู ุฎุทุฉ ูุงุถุญุฉ ููุชุนุงูู โ ูุฎุงุทุฑุฉ ุนุงููุฉ.' }
        ]
    },

    /* โโ ุงูุณุคุงู 5: ุงูุชูุฒูุนุงุช โโ */
    {
        id: 'q5',
        type: 'choice',
        text: 'ููู ูุถุน ุชูุฒูุนุงุช ุงูุฃุฑุจุงุญ ููุดุฑูุฉุ',
        hint: 'ุงููู ุชุนุฑูู ุนู ุขุฎุฑ 3-5 ุณููุงุช ูู ุงูุชูุฒูุนุงุช.',
        choices: [
            { label: '๐ฐ ุชุชูุฒุน ุจุงูุชุธุงู ูุชูุฒูุนุงุชูุง ุซุงุจุชุฉ ุฃู ุชููู', weight: +3,
              hint: 'ุงูุชูุฒูุน ุงูููุชุธู ุงููุชูุงูู ุนูุงูุฉ ุตุญุฉ ูุงููุฉ ูููุฉ.' },
            { label: '๐ ุชุชูุฒุน ููู ุงููุจูุบ ูุชุฐุจุฐุจ โ ุฃุญูุงูุงู ุฃูุซุฑ ูุฃุญูุงูุงู ุฃูู', weight: +1,
              hint: 'ุงูุชุฐุจุฐุจ ููุณ ุฌูุฏุงู ููุง ุณูุฆุงู ุจุงูุถุฑูุฑุฉ โ ูุนุชูุฏ ุนูู ุณุจุจ ุงูุชุฐุจุฐุจ.' },
            { label: 'โฌ๏ธ ูููุช ุชูุฒูุนุงุชูุง ุจุดูู ูุงุถุญ ูู ุขุฎุฑ ุณูุฉ ุฃู ุณูุชูู', weight: -2,
              hint: 'ุชุฑุงุฌุน ุงูุชูุฒูุนุงุช ุฅุดุงุฑุฉ ุชุญุฐูุฑ ุญููููุฉ โ ุงูุฅุฏุงุฑุฉ ุชุฑู ุถุบุทุงู ูุงููุง.' },
            { label: '๐ซ ูุง ุชุชูุฒุน ุฃุฑุจุงุญ ุฃุตูุงู', weight: -1,
              hint: 'ุจุนุถ ุงูุดุฑูุงุช ุชุญุชูุธ ุจุงูุฃุฑุจุงุญ ููููู โ ููุจูู ูู ุงูุฃุฑุจุงุญ ุชููู ุจูุถูุญ.' }
        ]
    },

    /* โโ ุงูุณุคุงู 6: ุงูุฏููู โโ */
    {
        id: 'q6',
        type: 'choice',
        text: 'ุงูุดุฑูุฉ ุนูููุง ุฏููู ูุจูุฑุฉุ',
        hint: 'ูู ูุงุฒู ุฃุฑูุงู ุฏูููุฉ โ ุชูุฏูุฑ ุนุงู ูููู.',
        choices: [
            { label: 'โ ุฏููููุง ููููุฉ ุฃู ูุนูููุฉ ููุงุฑูุฉ ุจุฃุฑุจุงุญูุง', weight: +2,
              hint: 'ุดุฑูุฉ ุจุฏููู ููุฎูุถุฉ ุฃูู ุนุฑุถุฉ ูููุฎุงุทุฑ ูู ุงูุฃููุงุช ุงูุตุนุจุฉ.' },
            { label: 'โ๏ธ ุนูููุง ุฏููู ููู ุชูุฏุฑ ุชุณุฏุฏ ูู ุฃุฑุจุงุญูุง', weight: +1,
              hint: 'ูุถุน ููุจูู ุทุงููุง ุงูุชุฏูู ุงูููุฏู ูุบุทู ุงูุฏููู.' },
            { label: '๐ด ุฏููููุง ุนุงููุฉ ูุฃูุง ูููุงู ูููุง', weight: -2,
              hint: 'ุฏููู ุนุงููุฉ ูุน ุฃุฑุจุงุญ ุถุนููุฉ ุฎุทุฑ ุญูููู ุฎุตูุตุงู ูู ุฑูุน ุงููุงุฆุฏุฉ.' },
            { label: 'โ ูุง ุฃุนุฑู', weight: 0,
              hint: 'ุงุจุญุซ ุนู ูุณุจุฉ ุงูุฏูู ููุญููู ูู ุงูููุงุฆู ุงูุณูููุฉ ูุจู ุฃู ูุฑุงุฑ.' }
        ]
    },

    /* โโ ุงูุณุคุงู 7: ุงุญุชูุงุฌ ุงููุงู โโ */
    {
        id: 'q7',
        type: 'choice',
        text: 'ุชุญุชุงุฌ ูุฐู ุงููููุณ ุงูุญููุ',
        hint: 'ุงูุญุงุฌุฉ ุงููุนููุฉ ููุณูููุฉ โ ูุง ูุฌุฑุฏ ุฑุบุจุฉ.',
        choices: [
            { label: '๐ด ูุนูุ ุนูุฏู ุงูุชุฒุงู ุฃู ุถุฑูุฑุฉ ูุง ุชูุฃุฌู', weight: -3,
              hint: 'ุฅุฐุง ุงูุงุญุชูุงุฌ ุญูููู ูุงูุจูุน ูุจุฑุฑ โ ููู ุชุฃูุฏ ุฅูู ุถุฑูุฑุฉ.' },
            { label: '๐ก ูููู ุฃุญุชุงุฌูุง ุฎูุงู 6 ุฃุดูุฑ', weight: -1,
              hint: 'ุฅุฐุง ุงูุงุญุชูุงู ุญููููุ ูููุฑ ูู ุจูุน ุฌุฒุก ููุท ูุง ุงููู.' },
            { label: '๐ข ูุงุ ุงููููุณ ูุฐู ูุณุชุซูุฑุฉ ููุง ุฃุญุชุงุฌูุง ูุฑูุจุงู', weight: +2,
              hint: 'ุงูููุช ูู ุตูู โ ุงูุตุจุฑ ุฃููู ุณูุงุญ ูุฃู ูุณุชุซูุฑ.' }
        ]
    },

    /* โโ ุงูุณุคุงู 8: ุงูููุงุฆู ุงููุงููุฉ โโ */
    {
        id: 'q8',
        type: 'yn',
        text: 'ูุฑุฃุช ุขุฎุฑ ูุชุงุฆุฌ ุงูุดุฑูุฉ ุงููุงููุฉุ (ููู ุจุดูู ุณุฑูุน)',
        hint: 'ูููู ุชููู ุดูุช ุงูุฃุฑุจุงุญ ูุงูุฅูุฑุงุฏุงุช ูุงูุชูุฒูุนุงุช ูุขุฎุฑ ุฑุจุน ุฃู ุณูุฉ.',
        weightYes: +1,
        weightNo: -2,
        hintYes: 'ููุชุงุฒ. ุงููุณุชุซูุฑ ุงููุงุนู ููุฑุฃ ุงูุฃุฑูุงู ูุจู ุงููุฑุงุฑ.',
        hintNo: 'ุงูุจูุน ุจุฏูู ูุง ุชุดูู ุงูุฃุฑูุงู ูุนูู ุฅูู ุชุชุตุฑู ุนูู ูุดุงุนุฑ. ุฎุฐ 30 ุฏูููุฉ ูุดูู ุงููุชุงุฆุฌ ุฃููุงู.'
    },

    /* โโ ุงูุณุคุงู 9: ูุถุน ุงูุฎุณุงุฑุฉ/ุงูุฑุจุญ โโ */
    {
        id: 'q9',
        type: 'choice',
        text: 'ูู ุชูุฑูุจุงู ูุถุนู ุงูุญุงูู ูุน ุงูุณููุ',
        hint: 'ููุงุฑูุฉ ุจุณุนุฑ ุดุฑุงุฆู.',
        choices: [
            { label: '๐ ุฑุงุจุญ 20% ุฃู ุฃูุซุฑ', weight: -1,
              hint: 'ุฑุจุญ ูุจูุฑ โ ูู ุงูุดุฑูุฉ ูุง ุชุฒุงู ูููููุฉ ุจุฃูู ูู ูููุชูุงุ ุฑุงุฌุน ูุจู ุงูุจูุน.' },
            { label: 'โ๏ธ ูู ุงูููุทูุฉ ุงููุนูููุฉ (ุฑุงุจุญ ุฃู ุฎุณุฑุงู ุฃูู ูู 20%)', weight: +1,
              hint: 'ูุถุน ุทุจูุนู โ ุงููุฑุงุฑ ูุนุชูุฏ ุนูู ุฃุณุงุณูุงุช ุงูุดุฑูุฉ ูุง ุงูุณุนุฑ.' },
            { label: '๐ ุฎุณุฑุงู ุจูู 20% ู40%', weight: -1,
              hint: 'ุงูุฎุณุงุฑุฉ ูุคููุฉ โ ููู ูู ุงูุณุจุจ ูุคูุช ุฃู ุจููููุ ูุฐุง ูู ุงูุณุคุงู.' },
            { label: '๐ป ุฎุณุฑุงู ุฃูุซุฑ ูู 40%', weight: -2,
              hint: 'ุฎุณุงุฑุฉ ุถุฎูุฉ ุชุณุชุฏุนู ูุฑุงุฌุนุฉ ุฌุฏูุฉ โ ูู ุงููุตุฉ ุงูุงุณุชุซูุงุฑูุฉ ูุง ุชุฒุงู ุณูููุฉุ' }
        ]
    },

    /* โโ ุงูุณุคุงู 10: ูุฌูุฏ ุจุฏูู โโ */
    {
        id: 'q10',
        type: 'yn',
        text: 'ุนูุฏู ูุฑุตุฉ ุซุงููุฉ ุฃูุถู ุชุจุบู ุชุญููู ุงููููุณ ุฅูููุงุ',
        hint: 'ูู ูุฌุฑุฏ ุฅุญุณุงุณ โ ุจู ุณูู ุฃู ูุฑุตุฉ ุฏุฑุณุชูุง ูุนูุงู.',
        weightYes: -1,
        weightNo: +2,
        hintYes: 'ุฅุฐุง ุงููุฑุตุฉ ุงูุจุฏููุฉ ูุฏุฑูุณุฉ โ ุงูุชุญููู ููุทูู. ููู ุงุญุฐุฑ ูู ุงูุดุงุฆุนุงุช.',
        hintNo: 'ุงูุฌููุณ ูุงุด ุจุฏูู ูุฏู ูุงุถุญ ูู ุงุณุชุฑุงุชูุฌูุฉ โ ุงูุชุถุฎู ูุฃูู ุงููููุณ ุงูุฑุงูุฏุฉ.'
    },

    /* โโ ุงูุณุคุงู 11: ุงูุฎูู ูุงูุถุบุท ุงูููุณู โโ */
    {
        id: 'q11',
        type: 'yn',
        text: 'ุตุฑุงุญุฉ โ ุฑุบุจุชู ูู ุงูุจูุน ุงูุญูู ูู ุจุณุจุจ ุฎูู ุฃู ุถุบุท ููุณู ุจุงูุฏุฑุฌุฉ ุงูุฃูููุ',
        hint: 'ูู ุตุงุฏูุงู ูุน ููุณู. ุงูุฎูู ุญุงูุฉ ุทุจูุนูุฉ ููููุง ุฃุณูุฃ ูุณุชุดุงุฑ.',
        weightYes: +3,
        weightNo: -1,
        hintYes: 'ุงูุฎูู ุฃูุจุฑ ุณุจุจ ููุจูุน ูู ุงููุงุน. ุฎุฐ ููุณุงู ูุงูุชุธุฑ ููููู ูุจู ุฃู ูุฑุงุฑ.',
        hintNo: 'ูุฑุงุฑู ูุจูู ุนูู ุชูููุฑ โ ูุฐุง ูู ุงููุฑู ุงูุญูููู ุจูู ุงููุถุงุฑุจ ูุงููุณุชุซูุฑ.'
    },

    /* โโ ุงูุณุคุงู 12: ุงููุฏุฉ ุงูุฒูููุฉ โโ */
    {
        id: 'q12',
        type: 'choice',
        text: 'ูู ูู ููุช ุชุญูู ุงูุณูู ูุฐุงุ',
        hint: 'ุงููุฏุฉ ุงูุฒูููุฉ ูููุฉ ูู ุชูููู ุงููุฑุงุฑ.',
        choices: [
            { label: '๐ ุฃูู ูู 6 ุฃุดูุฑ', weight: 0,
              hint: 'ูุฏุฉ ูุตูุฑุฉ โ ูู ุงุดุชุฑูุชู ุจูุฏู ุทููู ุฃู ูุถุงุฑุจุฉุ ูุฐุง ูุบูุฑ ูู ุดูุก.' },
            { label: '๐ ูู 6 ุฃุดูุฑ ูุณูุชูู', weight: +1,
              hint: 'ูุฏุฉ ูุนูููุฉ โ ูููู ุงูุฃุณุงุณูุงุช ูุง ุงูุณุนุฑ ููุท.' },
            { label: '๐ ุฃูุซุฑ ูู ุณูุชูู', weight: +2,
              hint: 'ูุณุชุซูุฑ ุทููู ุงูุฃูุฏ โ ุงูุชููุจุงุช ุฌุฒุก ุทุจูุนู ูู ุงูุฑุญูุฉ.' }
        ]
    }
];

/* ===== ุงูุญุงูุฉ ===== */
let currentQ  = 0;
let scores    = [];
let answers   = {};
let pendingYN = null;
let pendingChoiceIdx = null;

/* ===== ุฑุณู ุงูุณุคุงู ===== */
function renderQuestion() {
    const q   = questions[currentQ];
    const pct = Math.round((currentQ / questions.length) * 100);
    document.getElementById('progressBar').style.width  = pct + '%';
    document.getElementById('progressText').textContent =
        'ุงูุณุคุงู ' + (currentQ + 1) + ' ูู ' + questions.length;

    let html = '<div class="question-number">ุงูุณุคุงู ' + (currentQ + 1) + '</div>';
    html += '<div class="question-text">' + q.text + '</div>';
    html += '<div class="question-hint">' + q.hint + '</div>';

    if (q.type === 'choice') {
        html += '<div class="choice-buttons" id="choiceGroup">';
        q.choices.forEach((c, i) => {
            html += `<button class="btn-choice" id="choice_${i}" onclick="selectChoice(${i})">${c.label}</button>`;
        });
        html += '</div>';
        html += '<div id="choiceHint" style="font-size:0.82rem;color:#555;min-height:36px;margin-bottom:10px;"></div>';
        html += '<button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>ุงูุชุงูู โ</button>';

    } else if (q.type === 'yn') {
        html += `
            <div class="yn-buttons">
                <button class="btn-yes" id="btnYes" onclick="selectYN('yes')">โ ูุนู</button>
                <button class="btn-no"  id="btnNo"  onclick="selectYN('no')">โ ูุง</button>
            </div>
            <div id="ynHint" style="font-size:0.82rem;color:#555;min-height:36px;margin-bottom:10px;"></div>
            <button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>ุงูุชุงูู โ</button>`;

    } else if (q.type === 'number') {
        html += `
            <div class="input-group">
                <input type="number" id="numInput" placeholder="${q.placeholder}" min="0" step="0.01"
                       oninput="validateNumber()">
            </div>
            <button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>ุงูุชุงูู โ</button>`;
    }

    document.getElementById('questionBody').innerHTML = html;
    pendingYN = null;
    pendingChoiceIdx = null;

    if (q.type === 'number') setTimeout(() => document.getElementById('numInput').focus(), 50);
}

/* ===== ุงุฎุชูุงุฑ ูุชุนุฏุฏ ===== */
function selectChoice(idx) {
    pendingChoiceIdx = idx;
    const q = questions[currentQ];
    document.querySelectorAll('.btn-choice').forEach((b, i) => {
        b.classList.toggle('selected', i === idx);
    });
    document.getElementById('choiceHint').textContent = q.choices[idx].hint;
    document.getElementById('btnNext').disabled = false;
}

/* ===== ูุนู/ูุง ===== */
function selectYN(val) {
    pendingYN = val;
    const q = questions[currentQ];
    document.getElementById('btnYes').classList.toggle('selected', val === 'yes');
    document.getElementById('btnNo').classList.toggle('selected',  val === 'no');
    document.getElementById('ynHint').textContent = val === 'yes' ? q.hintYes : q.hintNo;
    document.getElementById('btnNext').disabled = false;
}

/* ===== ุชุญูู ุฑูู ===== */
function validateNumber() {
    const v = parseFloat(document.getElementById('numInput').value);
    document.getElementById('btnNext').disabled = isNaN(v) || v <= 0;
}

/* ===== ุงูุชุงูู ===== */
function nextQuestion() {
    const q = questions[currentQ];

    if (q.type === 'choice') {
        const c = q.choices[pendingChoiceIdx];
        scores.push({ id: q.id, weight: c.weight, text: q.text, hint: c.hint });
        answers[q.id] = pendingChoiceIdx;

    } else if (q.type === 'yn') {
        const w = pendingYN === 'yes' ? q.weightYes : q.weightNo;
        const h = pendingYN === 'yes' ? q.hintYes   : q.hintNo;
        scores.push({ id: q.id, weight: w, text: q.text, hint: h });
        answers[q.id] = pendingYN;

    } else if (q.type === 'number') {
        const v = parseFloat(document.getElementById('numInput').value);
        answers[q.key] = v;
        scores.push({ id: q.id, weight: 0, text: q.text, hint: '' });
    }

    currentQ++;
    currentQ < questions.length ? renderQuestion() : showResult();
}

/* ===== ุงููุชูุฌุฉ ===== */
function showResult() {
    document.getElementById('questionCard').style.display = 'none';
    document.getElementById('progressBar').style.width = '100%';

    let total = 0;
    scores.forEach(s => total += s.weight);

    const cost    = answers.costPrice    || 0;
    const current = answers.currentPrice || 0;
    let changePct = 0;
    if (cost > 0 && current > 0) {
        changePct = ((current - cost) / cost) * 100;
        if (changePct > 30)  total += 1;  // ุฑุจุญ ูุจูุฑ โ ุฑุจูุง ููุช ุฌูู ุฌุฒุฆู
        if (changePct < -40) total -= 1;  // ุฎุณุงุฑุฉ ุถุฎูุฉ โ ูุฑุงุฌุนุฉ
    }

    /* ูุทุงู ูุชููุน: -20 โ +22 */
    const maxScore = 22;
    const minScore = -20;
    const range    = maxScore - minScore;
    const pct      = Math.min(100, Math.max(0, ((total - minScore) / range) * 100));

    let decision, icon, titleClass, summary;

    if (total >= 8) {
        decision   = 'ุงุญุชูุธ ุจุงูุณูู';
        icon       = '๐ข';
        titleClass = 'hold';
        summary    = 'ุฅุฌุงุจุงุชู ุชุดูุฑ ุจูุถูุญ ุฅูู ุฃู ุงูุจูุน ุงูุขู ูุฑุงุฑ ูุชุณุฑุน. '
                   + 'ุงูุดุฑูุฉ ุชุจุฏู ุจุฎูุฑ ูุงูุถุบุท ุงูุญุงูู ุบุงูุจุงู ูุคูุช. '
                   + 'ุงูุตุจุฑ ููุง ูู ุถุนู โ ูู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุตุญ.';
    } else if (total >= 2) {
        decision   = 'ุชููู ูุฑุงุฌุน';
        icon       = '๐ก';
        titleClass = 'review';
        summary    = 'ุงูุตูุฑุฉ ูู ูุงุถุญุฉ 100%. ุจุนุถ ุงูุนูุงูู ุชุฏุนู ุงูุงุญุชูุงุธ ูุจุนุถูุง ูุณุชูุฌุจ ุงูููู. '
                   + 'ูุง ุชุจูุน ูุฃูุช ูู ูุฐู ุงูุญุงูุฉ. '
                   + 'ุงูุฑุฃ ุขุฎุฑ ูุชุงุฆุฌ ุงูุดุฑูุฉุ ููู ุณุจุจ ุงููุจูุทุ ุซู ุงุฑุฌุน ููุฑุฑ.';
    } else {
        decision   = 'ูููุฑ ุฌุฏูุงู ูู ุงูุจูุน';
        icon       = '๐ด';
        titleClass = 'sell';
        summary    = 'ุฅุฌุงุจุงุชู ุชุดูุฑ ุฅูู ุฃู ุงูุงุญุชูุงุธ ููุทูู ุนูู ูุฎุงุทุฑ ุญููููุฉ. '
                   + 'ูุจู ูุง ุชุจูุน: ุชุฃูุฏ ุฅู ูุฑุงุฑู ุนูู ุงูุฃุฑูุงู ูู ุงูุฎููุ '
                   + 'ูุฅู ุนูุฏู ุฎุทุฉ ูุงุถุญุฉ ูุฃูู ุชุฐูุจ ูุฐู ุงููููุณ ุจุนุฏูู.';
    }

    let barColor;
    if (pct >= 60) barColor = 'linear-gradient(90deg, #27ae60, #2ecc71)';
    else if (pct >= 35) barColor = 'linear-gradient(90deg, #f39c12, #f1c40f)';
    else barColor = 'linear-gradient(90deg, #c0392b, #e74c3c)';

    let factorsHTML = '';
    scores.forEach(s => {
        if (s.weight === 0 || !s.hint) return;
        const dotClass = s.weight > 0 ? 'dot-hold' : 'dot-sell';
        factorsHTML += `
            <div class="factor-item">
                <div class="factor-dot ${dotClass}"></div>
                <div>${s.hint}</div>
            </div>`;
    });

    let priceNote = '';
    if (cost > 0 && current > 0) {
        const sign  = changePct >= 0 ? '+' : '';
        const color = changePct >= 0 ? '#27ae60' : '#e74c3c';
        priceNote = `<p style="font-size:0.9rem;color:${color};font-weight:bold;margin-bottom:15px;">
            ุณุนุฑ ุดุฑุงุฆู: ${cost.toFixed(2)} ุฑ.ุณ &nbsp;|&nbsp;
            ุงูุณุนุฑ ุงูุญุงูู: ${current.toFixed(2)} ุฑ.ุณ &nbsp;|&nbsp;
            ุงูุชุบููุฑ: ${sign}${changePct.toFixed(1)}%
        </p>`;
    }

    document.getElementById('resultCard').innerHTML = `
        <div class="result-icon">${icon}</div>
        <div class="result-title ${titleClass}">${decision}</div>
        ${priceNote}
        <p class="result-summary">${summary}</p>
        <div class="score-meter">
            <div class="score-label"><span>ุจูุน ูุงุถุญ</span><span>ุงุญุชูุธ ุจุซูุฉ</span></div>
            <div class="score-bar-wrap">
                <div class="score-bar-fill" style="width:${pct}%;background:${barColor};"></div>
            </div>
            <div class="score-text">ูุคุดุฑ ุงูุงุญุชูุงุธ: ${Math.round(pct)}%</div>
        </div>
        <div class="factors-section">
            <h4>๐ ุฃุจุฑุฒ ุงูุนูุงูู ุงููุคุซุฑุฉ ูู ุชูุตูุชู:</h4>
            ${factorsHTML || '<p style="color:#999;font-size:0.85rem;">ูุง ุชูุฌุฏ ุนูุงูู ุจุงุฑุฒุฉ.</p>'}
        </div>
        <button class="btn-restart" onclick="restart()">๐ ุชูููู ุณูู ุขุฎุฑ</button>
    `;

    document.getElementById('resultCard').style.display = 'block';
    document.getElementById('resultCard').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

/* ===== ุฅุนุงุฏุฉ ุงูุจุฏุก ===== */
function restart() {
    currentQ = 0; scores = []; answers = {};
    pendingYN = null; pendingChoiceIdx = null;
    document.getElementById('resultCard').style.display = 'none';
    document.getElementById('questionCard').style.display = 'block';
    renderQuestion();
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

window.addEventListener('scroll', function () {
    document.getElementById('backToTop').classList.toggle('visible', window.scrollY > 300);
});

document.addEventListener('DOMContentLoaded', renderQuestion);
</script>
</body>
</html>
