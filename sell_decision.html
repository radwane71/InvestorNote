<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‡Ù„ Ø£Ø¨ÙŠØ¹ Ø³Ù‡Ù…ÙŠØŸ â€” Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±</title>
    <link rel="stylesheet" href="navigation.css">
    <link rel="stylesheet" href="dark-theme.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #e8f0f5 0%, #d0e0e8 100%);
            min-height: 100vh;
            padding: 20px;
            color: #2c3e50;
        }

        .container { max-width: 780px; margin: 0 auto; }

        .page-header { text-align: center; margin-bottom: 30px; }
        .page-header h1 {
            font-size: 2.2rem; color: #2c3e50;
            font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        .page-header p {
            font-size: 0.95rem; color: #5a7fa0;
            margin-top: 8px; line-height: 1.6;
        }

        .advisor-card {
            background: white; border-radius: 18px;
            padding: 30px; box-shadow: 0 6px 25px rgba(0,0,0,0.1);
            margin-bottom: 20px; position: relative; overflow: hidden;
        }
        .advisor-card::before {
            content: ''; position: absolute; top: 0; right: 0; left: 0;
            height: 5px;
            background: linear-gradient(90deg, #c0392b, #e74c3c, #f39c12);
        }

        .progress-bar-wrap {
            background: #eef2f7; border-radius: 10px;
            height: 8px; margin-bottom: 20px; overflow: hidden;
        }
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #5a7fb5, #5a9d7a);
            border-radius: 10px; transition: width 0.4s ease; width: 0%;
        }
        .progress-label {
            font-size: 0.78rem; color: #888;
            text-align: left; margin-bottom: 6px; direction: ltr;
        }

        .question-number {
            font-size: 0.8rem; color: #c0392b;
            font-weight: bold; margin-bottom: 6px; letter-spacing: 0.5px;
        }
        .question-text {
            font-size: 1.15rem; font-weight: bold;
            color: #2c3e50; margin-bottom: 6px; line-height: 1.5;
        }
        .question-hint {
            font-size: 0.82rem; color: #7f8c8d;
            margin-bottom: 20px; line-height: 1.5;
            border-right: 3px solid #f39c12;
            background: rgba(243,156,18,0.06);
            padding: 8px 10px; border-radius: 0 6px 6px 0;
        }

        .input-group { margin-bottom: 20px; }
        .input-group input[type="number"] {
            width: 100%; padding: 12px 16px;
            border: 2px solid #dde4ec; border-radius: 10px;
            font-size: 1rem; font-family: inherit; color: #2c3e50;
            background: #fafcfe; transition: border-color 0.2s;
            text-align: right; direction: rtl;
        }
        .input-group input:focus { outline: none; border-color: #5a7fb5; }

        .choice-buttons {
            display: flex; flex-direction: column; gap: 10px; margin-bottom: 10px;
        }
        .btn-choice {
            width: 100%; padding: 13px 16px;
            font-size: 0.97rem; font-weight: bold;
            border: 2px solid #dde4ec; border-radius: 12px;
            cursor: pointer; background: #fafcfe; color: #2c3e50;
            text-align: right; font-family: inherit;
            transition: border-color 0.2s, background 0.2s, transform 0.15s;
        }
        .btn-choice:hover { border-color: #5a7fb5; background: #eef4ff; transform: translateX(-3px); }
        .btn-choice.selected {
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border-color: #4a6fa5;
        }

        .yn-buttons { display: flex; gap: 12px; margin-bottom: 10px; }
        .btn-yes, .btn-no {
            flex: 1; padding: 14px; font-size: 1.05rem; font-weight: bold;
            border: none; border-radius: 12px; cursor: pointer;
            transition: transform 0.15s, box-shadow 0.15s; font-family: inherit;
        }
        .btn-yes {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white; box-shadow: 0 4px 12px rgba(39,174,96,0.3);
        }
        .btn-yes:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(39,174,96,0.4); }
        .btn-no {
            background: linear-gradient(135deg, #c0392b, #e74c3c);
            color: white; box-shadow: 0 4px 12px rgba(192,57,43,0.3);
        }
        .btn-no:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(192,57,43,0.4); }
        .btn-yes.selected { outline: 3px solid #145a32; }
        .btn-no.selected  { outline: 3px solid #7b241c; }

        .btn-next {
            width: 100%; padding: 13px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 12px;
            font-size: 1rem; font-weight: bold; cursor: pointer;
            font-family: inherit;
            transition: transform 0.15s, box-shadow 0.15s;
            box-shadow: 0 4px 12px rgba(90,127,181,0.3);
            margin-top: 8px;
        }
        .btn-next:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(90,127,181,0.4); }
        .btn-next:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }

        .result-card {
            display: none; border-radius: 18px;
            padding: 30px; box-shadow: 0 6px 25px rgba(0,0,0,0.12);
            text-align: center;
        }
        .result-icon { font-size: 4rem; margin-bottom: 15px; }
        .result-title { font-size: 1.6rem; font-weight: bold; margin-bottom: 10px; }
        .result-title.sell   { color: #c0392b; }
        .result-title.hold   { color: #27ae60; }
        .result-title.review { color: #f39c12; }

        .result-summary {
            font-size: 0.95rem; color: #555;
            line-height: 1.7; margin-bottom: 20px; text-align: right;
        }

        .factors-section {
            background: #f7f9fc; border-radius: 12px;
            padding: 18px; margin-bottom: 20px; text-align: right;
        }
        .factors-section h4 {
            font-size: 0.95rem; color: #2c3e50;
            font-weight: bold; margin-bottom: 12px;
        }
        .factor-item {
            display: flex; align-items: flex-start; gap: 10px;
            margin-bottom: 8px; font-size: 0.88rem; color: #444; line-height: 1.5;
        }
        .factor-dot {
            width: 10px; height: 10px; border-radius: 50%;
            margin-top: 4px; flex-shrink: 0;
        }
        .dot-sell { background: #e74c3c; }
        .dot-hold { background: #27ae60; }
        .dot-neutral { background: #f39c12; }

        .score-meter { margin: 20px 0; }
        .score-label {
            display: flex; justify-content: space-between;
            font-size: 0.8rem; color: #888; margin-bottom: 6px;
        }
        .score-bar-wrap {
            background: #eef2f7; border-radius: 10px; height: 14px; overflow: hidden;
        }
        .score-bar-fill {
            height: 100%; border-radius: 10px; transition: width 0.6s ease;
        }
        .score-text { font-size: 0.85rem; color: #555; margin-top: 6px; text-align: center; }

        .btn-restart {
            display: inline-block; padding: 12px 30px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 12px;
            font-size: 0.95rem; font-weight: bold; cursor: pointer;
            font-family: inherit; transition: transform 0.15s; margin-top: 10px;
        }
        .btn-restart:hover { transform: translateY(-2px); }

        .back-to-top {
            position: fixed; bottom: 30px; left: 30px;
            background: linear-gradient(135deg, #5a7fb5, #4a6fa5);
            color: white; border: none; border-radius: 50%;
            width: 48px; height: 48px; font-size: 1.3rem;
            cursor: pointer; box-shadow: 0 4px 15px rgba(90,127,181,0.4);
            transition: transform 0.3s, opacity 0.3s;
            opacity: 0; pointer-events: none;
            display: flex; align-items: center; justify-content: center; z-index: 999;
        }
        .back-to-top.visible { opacity: 1; pointer-events: auto; }
        .back-to-top:hover { transform: translateY(-3px); }

        @media (max-width: 600px) {
            .page-header h1 { font-size: 1.7rem; }
            .advisor-card { padding: 20px; }
            .question-text { font-size: 1rem; }
            .yn-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>

<button class="back-to-top" id="backToTop"
        onclick="window.scrollTo({top:0,behavior:'smooth'})"
        title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø¹Ù„Ù‰">â†‘</button>

<div class="container">

    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">ğŸ“ˆ Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±</a>
            <button class="navbar-toggle" onclick="toggleNavbar()">â˜°</button>
            <div class="navbar-menu" id="navbarMenu">
                <a href="index.html"                     class="navbar-item">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="advice.html"                    class="navbar-item calculator">ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ©</a>
                <a href="salary_calculator.html"         class="navbar-item salary">ğŸ’¼ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø±Ø§ØªØ¨</a>
                <a href="zakat_purification.html"        class="navbar-item zakat">ğŸ•Œ Ø§Ù„Ø²ÙƒØ§Ø©</a>
                <a href="financial_freedom.html"         class="navbar-item fire">ğŸ”¥ Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</a>
                <a href="investor_tips.html"             class="navbar-item tips">âš ï¸ Ù†ØµØ§Ø¦Ø­</a>
                <a href="snowball_calculator.html"       class="navbar-item calculator">â„ï¸ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø±ÙƒØ¨</a>
                <a href="emergency_fund_calculator.html" class="navbar-item emergency">ğŸ›¡ï¸ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</a>
                <a href="average_calculator.html"        class="navbar-item average">ğŸ“Š Ù…ØªÙˆØ³Ø· Ø§Ù„Ø´Ø±Ø§Ø¡</a>
                <a href="company_valuation.html"         class="navbar-item company">ğŸ¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´Ø±ÙƒØ©</a>
                <a href="retirement_calculator.html"     class="navbar-item retirement">ğŸ–ï¸ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</a>
                <a href="portfolio_rating.html"          class="navbar-item portfolio">ğŸ›¡ï¸ Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>
                <a href="stock_valuation.html"           class="navbar-item calculator">ğŸ“Š ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø³Ù‡Ù…</a>
                <a href="dca_calculator.html"            class="navbar-item calculator">ğŸ“… DCA</a>
                <a href="sell_decision.html"             class="navbar-item calculator active">ğŸ¤” Ù‡Ù„ Ø£Ø¨ÙŠØ¹ØŸ</a>
                <a href="goal_calculator.html"           class="navbar-item calculator">ğŸ¯ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø¹ÙƒØ³ÙŠ</a>
                <a href="allocation_calculator.html"     class="navbar-item allocation">âš–ï¸ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>
            </div>
        </div>
    </nav>

    <script>
        function toggleNavbar() {
            document.getElementById('navbarMenu').classList.toggle('open');
        }
        document.addEventListener('DOMContentLoaded', function () {
            const raw  = window.location.pathname.split('/').pop() || 'index.html';
            const page = raw.split('?')[0].split('#')[0] || 'index.html';
            document.querySelectorAll('.navbar-item').forEach(function (item) {
                item.classList.remove('active');
                const href = (item.getAttribute('href') || '').split('?')[0].split('#')[0];
                if (href === page) item.classList.add('active');
            });
        });
    </script>

    <div class="page-header">
        <h1>ğŸ¤” Ù‡Ù„ Ø£Ø¨ÙŠØ¹ Ø³Ù‡Ù…ÙŠØŸ</h1>
        <p>Ø¬Ø§ÙˆØ¨ Ø¨ØµØ¯Ù‚ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ³ØªØ·Ù„Ø¹ Ù„Ùƒ ØªÙˆØµÙŠØ© Ù…Ø¯Ø±ÙˆØ³Ø©<br>
        <small style="color:#aaa;">Ù„Ø§ Ø¹ÙˆØ§Ø·ÙØŒ Ù„Ø§ ØªØ®Ù…ÙŠÙ† â€” ÙÙ‚Ø· Ø£Ø±Ù‚Ø§Ù… ÙˆÙˆØ§Ù‚Ø¹</small></p>
    </div>

    <div class="advisor-card" id="questionCard">
        <div class="progress-label"><span id="progressText">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 12</span></div>
        <div class="progress-bar-wrap">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
        <div id="questionBody"></div>
    </div>

    <div class="result-card" id="resultCard"></div>

    <div class="disclaimer-box">
        âš ï¸ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© ÙÙ‚Ø·. Ù„Ø§ ØªÙØ¹Ø¯Ù‘ ØªÙˆØµÙŠØ© Ù…Ø§Ù„ÙŠØ© Ø±Ø³Ù…ÙŠØ©.
        Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ ÙŠØ¹ÙˆØ¯ Ù„Ùƒ. Ø§Ø³ØªØ´Ø± Ù…Ø³ØªØ´Ø§Ø±Ø§Ù‹ Ù…Ø±Ø®ØµØ§Ù‹ Ù‚Ø¨Ù„ Ø£ÙŠ Ø®Ø·ÙˆØ© Ù…Ù‡Ù…Ø©.
    </div>

</div>

<script data-goatcounter="https://investornote.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

<script src="results-engine.js"></script>
<script>
const questions = [
    {
        id: 'q1', type: 'choice',
        text: 'Ù„ÙŠØ´ Ø§Ù„Ø³Ù‡Ù… Ù†Ø§Ø²Ù„ØŸ ÙˆØ´ Ø£Ù‚Ø±Ø¨ Ø´ÙŠØ¡ Ù„ÙˆØ¶Ø¹ÙƒØŸ',
        hint: 'Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ù„ÙˆØ§Ù‚Ø¹.',
        choices: [
            { label: 'ğŸ“‰ Ø§Ù„Ø³ÙˆÙ‚ ÙƒÙ„Ù‡ Ù†Ø§Ø²Ù„ ÙˆØ³Ù‡Ù…ÙŠ Ù†Ø²Ù„ Ù…Ø¹Ù‡ Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ø¨ Ø®Ø§Øµ', weight: +3, hint: 'Ù‡Ø¨ÙˆØ· Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ø§Ù… ÙØ±ØµØ© ØªØ§Ø±ÙŠØ®ÙŠØ§Ù‹. Ù…Ù† Ø¨Ø§Ø¹ ÙÙŠ ÙƒÙ„ Ù‡Ø¨Ø·Ø© Ø®Ø³Ø± ÙƒØ«ÙŠØ±Ø§Ù‹.' },
            { label: 'ğŸ“° Ø®Ø¨Ø± Ø£Ùˆ Ø¥Ø¹Ù„Ø§Ù† Ø³Ù„Ø¨ÙŠ Ø®Ø§Øµ Ø¨Ø§Ù„Ø´Ø±ÙƒØ©', weight: -1, hint: 'Ø®Ø¨Ø± Ø³Ù„Ø¨ÙŠ ÙŠØ³ØªÙˆØ¬Ø¨ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø«Ø± Ø§Ù„ÙØ¹Ù„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ø¨ÙŠØ¹.' },
            { label: 'ğŸ“Š ØªØ±Ø§Ø¬Ø¹ ÙÙŠ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ø±ÙƒØ© Ø£Ùˆ ØªÙˆØ²ÙŠØ¹Ø§ØªÙ‡Ø§', weight: -2, hint: 'ØªØ±Ø§Ø¬Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¥Ø´Ø§Ø±Ø© Ø¨Ù†ÙŠÙˆÙŠØ© ØªØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ø¯ÙŠØ© Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø´Ø±ÙƒØ©.' },
            { label: 'â“ Ù…Ø§ Ø£Ø¹Ø±Ù Ø§Ù„Ø³Ø¨Ø¨ Ø¨Ø§Ù„Ø¶Ø¨Ø·', weight: +2, hint: 'Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø¯ÙˆÙ† ÙÙ‡Ù… Ø§Ù„Ø³Ø¨Ø¨ Ù‚Ø±Ø§Ø± Ø¹Ø§Ø·ÙÙŠ. Ø§Ø¨Ø­Ø« Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… Ù‚Ø±Ø±.' }
        ]
    },
    { id: 'q2', type: 'number', text: 'Ø¨ÙƒÙ… Ø§Ø´ØªØ±ÙŠØª Ø§Ù„Ø³Ù‡Ù…ØŸ (Ù…ØªÙˆØ³Ø· Ø³Ø¹Ø±Ùƒ)', hint: 'Ù„Ùˆ Ø§Ø´ØªØ±ÙŠØª Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø±Ø©ØŒ Ø§Ø¯Ø®Ù„ Ø§Ù„Ù…ØªÙˆØ³Ø·.', placeholder: 'Ù…Ø«Ø§Ù„: 45.50', key: 'costPrice' },
    { id: 'q3', type: 'number', text: 'ÙƒÙ… Ø³Ø¹Ø± Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø­ÙŠÙ† ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ØŸ', hint: 'Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù„ÙŠ ØªØ´ÙˆÙÙ‡ Ø§Ù„Ø¢Ù† ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¯Ø§ÙˆÙ„.', placeholder: 'Ù…Ø«Ø§Ù„: 38.00', key: 'currentPrice' },
    {
        id: 'q4', type: 'choice',
        text: 'Ø§Ù„Ø´Ø±ÙƒØ© Ù‡Ø°ÙŠ Ø±Ø¨Ø­ÙŠØ©ØŸ',
        hint: 'Ø´ÙˆÙ Ø¢Ø®Ø± Ù†ØªØ§Ø¦Ø¬Ù‡Ø§ Ø§Ù„ÙØµÙ„ÙŠØ© Ø£Ùˆ Ø§Ù„Ø³Ù†ÙˆÙŠØ©.',
        choices: [
            { label: 'âœ… Ù†Ø¹Ù…ØŒ Ø±Ø¨Ø­ÙŠØ© ÙˆØ£Ø±Ø¨Ø§Ø­Ù‡Ø§ ØªÙ†Ù…Ùˆ Ø£Ùˆ Ø«Ø§Ø¨ØªØ©', weight: +3, hint: 'Ø´Ø±ÙƒØ© Ø±Ø¨Ø­ÙŠØ© Ø¨Ù†Ù…Ùˆ Ø«Ø§Ø¨Øª Ù…Ù† Ø£Ù‚ÙˆÙ‰ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø§Ø­ØªÙØ§Ø¸.' },
            { label: 'ğŸ“‰ Ø±Ø¨Ø­ÙŠØ© Ù„ÙƒÙ† Ø£Ø±Ø¨Ø§Ø­Ù‡Ø§ ØªØ±Ø§Ø¬Ø¹Øª ÙÙŠ Ø¢Ø®Ø± Ø³Ù†Ø© Ø£Ùˆ Ø³Ù†ØªÙŠÙ†', weight: 0, hint: 'ØªØ±Ø§Ø¬Ø¹ Ù…Ø¤Ù‚Øª Ø£Ù… ØªØ±Ø§Ø¬Ø¹ Ø¨Ù†ÙŠÙˆÙŠØŸ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØ­Ø¯Ø¯ ÙƒÙ„ Ø´ÙŠØ¡.' },
            { label: 'âŒ Ø®Ø³Ø±Ø§Ù†Ø© Ø£Ùˆ Ø¹Ù„Ù‰ Ø­Ø§ÙØ© Ø§Ù„ØªØ¹Ø§Ø¯Ù„', weight: -3, hint: 'Ø´Ø±ÙƒØ© Ø®Ø³Ø±Ø§Ù†Ø© Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø© ÙˆØ§Ø¶Ø­Ø© Ù„Ù„ØªØ¹Ø§ÙÙŠ â€” Ù…Ø®Ø§Ø·Ø±Ø© Ø¹Ø§Ù„ÙŠØ©.' }
        ]
    },
    {
        id: 'q5', type: 'choice',
        text: 'ÙƒÙŠÙ ÙˆØ¶Ø¹ ØªÙˆØ²ÙŠØ¹Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ù„Ù„Ø´Ø±ÙƒØ©ØŸ',
        hint: 'Ø§Ù„Ù„ÙŠ ØªØ¹Ø±ÙÙ‡ Ø¹Ù† Ø¢Ø®Ø± 3-5 Ø³Ù†ÙˆØ§Øª Ù…Ù† Ø§Ù„ØªÙˆØ²ÙŠØ¹Ø§Øª.',
        choices: [
            { label: 'ğŸ’° ØªØªÙˆØ²Ø¹ Ø¨Ø§Ù†ØªØ¸Ø§Ù… ÙˆØªÙˆØ²ÙŠØ¹Ø§ØªÙ‡Ø§ Ø«Ø§Ø¨ØªØ© Ø£Ùˆ ØªÙ†Ù…Ùˆ', weight: +3, hint: 'Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¸Ù… Ø§Ù„Ù…ØªÙ†Ø§Ù…ÙŠ Ø¹Ù„Ø§Ù…Ø© ØµØ­Ø© Ù…Ø§Ù„ÙŠØ© Ù‚ÙˆÙŠØ©.' },
            { label: 'ğŸ“Š ØªØªÙˆØ²Ø¹ Ù„ÙƒÙ† Ø§Ù„Ù…Ø¨Ù„Øº ÙŠØªØ°Ø¨Ø°Ø¨', weight: +1, hint: 'Ø§Ù„ØªØ°Ø¨Ø°Ø¨ Ù„ÙŠØ³ Ø¬ÙŠØ¯Ø§Ù‹ ÙˆÙ„Ø§ Ø³ÙŠØ¦Ø§Ù‹ â€” ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø³Ø¨Ø¨ Ø§Ù„ØªØ°Ø¨Ø°Ø¨.' },
            { label: 'â¬‡ï¸ Ù‚Ù„Ù‘Øª ØªÙˆØ²ÙŠØ¹Ø§ØªÙ‡Ø§ Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­', weight: -2, hint: 'ØªØ±Ø§Ø¬Ø¹ Ø§Ù„ØªÙˆØ²ÙŠØ¹Ø§Øª Ø¥Ø´Ø§Ø±Ø© ØªØ­Ø°ÙŠØ± â€” Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ±Ù‰ Ø¶ØºØ·Ø§Ù‹ Ù…Ø§Ù„ÙŠØ§Ù‹.' },
            { label: 'ğŸš« Ù…Ø§ ØªØªÙˆØ²Ø¹ Ø£Ø±Ø¨Ø§Ø­ Ø£ØµÙ„Ø§Ù‹', weight: -1, hint: 'Ù…Ù‚Ø¨ÙˆÙ„ Ù„Ùˆ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ØªÙ†Ù…Ùˆ Ø¨ÙˆØ¶ÙˆØ­.' }
        ]
    },
    {
        id: 'q6', type: 'choice',
        text: 'Ø§Ù„Ø´Ø±ÙƒØ© Ø¹Ù„ÙŠÙ‡Ø§ Ø¯ÙŠÙˆÙ† ÙƒØ¨ÙŠØ±Ø©ØŸ',
        hint: 'Ù…Ùˆ Ù„Ø§Ø²Ù… Ø£Ø±Ù‚Ø§Ù… Ø¯Ù‚ÙŠÙ‚Ø© â€” ØªÙ‚Ø¯ÙŠØ± Ø¹Ø§Ù… ÙŠÙƒÙÙŠ.',
        choices: [
            { label: 'âœ… Ø¯ÙŠÙˆÙ†Ù‡Ø§ Ù‚Ù„ÙŠÙ„Ø© Ø£Ùˆ Ù…Ø¹Ù‚ÙˆÙ„Ø© Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø£Ø±Ø¨Ø§Ø­Ù‡Ø§', weight: +2, hint: 'Ø´Ø±ÙƒØ© Ø¨Ø¯ÙŠÙˆÙ† Ù…Ù†Ø®ÙØ¶Ø© Ø£Ù‚Ù„ Ø¹Ø±Ø¶Ø© Ù„Ù„Ù…Ø®Ø§Ø·Ø±.' },
            { label: 'âš ï¸ Ø¹Ù„ÙŠÙ‡Ø§ Ø¯ÙŠÙˆÙ† Ù„ÙƒÙ† ØªÙ‚Ø¯Ø± ØªØ³Ø¯Ø¯ Ù…Ù† Ø£Ø±Ø¨Ø§Ø­Ù‡Ø§', weight: +1, hint: 'ÙˆØ¶Ø¹ Ù…Ù‚Ø¨ÙˆÙ„ Ø·Ø§Ù„Ù…Ø§ Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ ÙŠØºØ·ÙŠ Ø§Ù„Ø¯ÙŠÙˆÙ†.' },
            { label: 'ğŸ”´ Ø¯ÙŠÙˆÙ†Ù‡Ø§ Ø¹Ø§Ù„ÙŠØ© ÙˆØ£Ù†Ø§ Ù‚Ù„Ù‚Ø§Ù† Ù…Ù†Ù‡Ø§', weight: -2, hint: 'Ø¯ÙŠÙˆÙ† Ø¹Ø§Ù„ÙŠØ© Ù…Ø¹ Ø£Ø±Ø¨Ø§Ø­ Ø¶Ø¹ÙŠÙØ© Ø®Ø·Ø± Ø­Ù‚ÙŠÙ‚ÙŠ.' },
            { label: 'â“ Ù…Ø§ Ø£Ø¹Ø±Ù', weight: 0, hint: 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙ† Ù„Ù„Ø­Ù‚ÙˆÙ‚ Ù‚Ø¨Ù„ Ø£ÙŠ Ù‚Ø±Ø§Ø±.' }
        ]
    },
    {
        id: 'q7', type: 'choice',
        text: 'ØªØ­ØªØ§Ø¬ Ù‡Ø°ÙŠ Ø§Ù„ÙÙ„ÙˆØ³ Ø§Ù„Ø­ÙŠÙ†ØŸ',
        hint: 'Ø§Ù„Ø­Ø§Ø¬Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ù„Ø³ÙŠÙˆÙ„Ø©.',
        choices: [
            { label: 'ğŸ”´ Ù†Ø¹Ù…ØŒ Ø¹Ù†Ø¯ÙŠ Ø§Ù„ØªØ²Ø§Ù… Ø¶Ø±ÙˆØ±Ø© Ù…Ø§ ØªÙ†Ø£Ø¬Ù„', weight: -3, hint: 'Ø¥Ø°Ø§ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬ Ø­Ù‚ÙŠÙ‚ÙŠ ÙØ§Ù„Ø¨ÙŠØ¹ Ù…Ø¨Ø±Ø±.' },
            { label: 'ğŸŸ¡ Ù…Ù…ÙƒÙ† Ø£Ø­ØªØ§Ø¬Ù‡Ø§ Ø®Ù„Ø§Ù„ 6 Ø£Ø´Ù‡Ø±', weight: -1, hint: 'ÙÙƒÙ‘Ø± ÙÙŠ Ø¨ÙŠØ¹ Ø¬Ø²Ø¡ ÙÙ‚Ø· Ù„Ø§ Ø§Ù„ÙƒÙ„.' },
            { label: 'ğŸŸ¢ Ù„Ø§ØŒ Ø§Ù„ÙÙ„ÙˆØ³ Ù…Ø³ØªØ«Ù…Ø±Ø© ÙˆÙ…Ø§ Ø£Ø­ØªØ§Ø¬Ù‡Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹', weight: +2, hint: 'Ø§Ù„ÙˆÙ‚Øª ÙÙŠ ØµÙÙƒ â€” Ø§Ù„ØµØ¨Ø± Ø£Ù‚ÙˆÙ‰ Ø³Ù„Ø§Ø­.' }
        ]
    },
    { id: 'q8', type: 'yn', text: 'Ù‚Ø±Ø£Øª Ø¢Ø®Ø± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŸ', hint: 'ÙŠÙƒÙÙŠ Ø´ÙØª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù„Ø¢Ø®Ø± Ø±Ø¨Ø¹ Ø£Ùˆ Ø³Ù†Ø©.', weightYes: +1, weightNo: -2, hintYes: 'Ù…Ù…ØªØ§Ø². Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± Ø§Ù„ÙˆØ§Ø¹ÙŠ ÙŠÙ‚Ø±Ø£ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù‚Ø¨Ù„ Ø§Ù„Ù‚Ø±Ø§Ø±.', hintNo: 'Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ø¯ÙˆÙ† Ù…Ø§ ØªØ´ÙˆÙ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙŠØ¹Ù†ÙŠ Ø¥Ù†Ùƒ ØªØªØµØ±Ù Ø¹Ù„Ù‰ Ù…Ø´Ø§Ø¹Ø±.' },
    {
        id: 'q9', type: 'choice',
        text: 'ÙƒÙ… ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ø³Ù‡Ù…ØŸ',
        hint: 'Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø³Ø¹Ø± Ø´Ø±Ø§Ø¦Ùƒ.',
        choices: [
            { label: 'ğŸ“ˆ Ø±Ø§Ø¨Ø­ 20% Ø£Ùˆ Ø£ÙƒØ«Ø±', weight: -1, hint: 'Ù‡Ù„ Ø§Ù„Ø´Ø±ÙƒØ© Ù„Ø§ ØªØ²Ø§Ù„ Ù…Ù‚ÙŠÙ‘Ù…Ø© Ø¨Ø£Ù‚Ù„ Ù…Ù† Ù‚ÙŠÙ…ØªÙ‡Ø§ØŸ' },
            { label: 'â†”ï¸ ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ù‚ÙˆÙ„Ø© (Ø£Ù‚Ù„ Ù…Ù† 20%)', weight: +1, hint: 'Ø§Ù„Ù‚Ø±Ø§Ø± ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø´Ø±ÙƒØ© Ù„Ø§ Ø§Ù„Ø³Ø¹Ø±.' },
            { label: 'ğŸ“‰ Ø®Ø³Ø±Ø§Ù† Ø¨ÙŠÙ† 20% Ùˆ40%', weight: -1, hint: 'Ù‡Ù„ Ø§Ù„Ø³Ø¨Ø¨ Ù…Ø¤Ù‚Øª Ø£Ù… Ø¨Ù†ÙŠÙˆÙŠØŸ' },
            { label: 'ğŸ”» Ø®Ø³Ø±Ø§Ù† Ø£ÙƒØ«Ø± Ù…Ù† 40%', weight: -2, hint: 'Ù‡Ù„ Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ© Ù„Ø§ ØªØ²Ø§Ù„ Ø³Ù„ÙŠÙ…Ø©ØŸ' }
        ]
    },
    { id: 'q10', type: 'yn', text: 'Ø¹Ù†Ø¯Ùƒ ÙØ±ØµØ© Ø«Ø§Ù†ÙŠØ© Ø£ÙØ¶Ù„ ØªØ¨ØºÙ‰ ØªØ­ÙˆÙ‘Ù„ Ø§Ù„ÙÙ„ÙˆØ³ Ø¥Ù„ÙŠÙ‡Ø§ØŸ', hint: 'Ù…Ùˆ Ù…Ø¬Ø±Ø¯ Ø¥Ø­Ø³Ø§Ø³ â€” Ø¨Ù„ Ø³Ù‡Ù… Ø£Ùˆ ÙØ±ØµØ© Ø¯Ø±Ø³ØªÙ‡Ø§ ÙØ¹Ù„Ø§Ù‹.', weightYes: -1, weightNo: +2, hintYes: 'Ø¥Ø°Ø§ Ø§Ù„ÙØ±ØµØ© Ù…Ø¯Ø±ÙˆØ³Ø© â€” Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù†Ø·Ù‚ÙŠ.', hintNo: 'Ø§Ù„Ø¬Ù„ÙˆØ³ ÙƒØ§Ø´ Ø¨Ø¯ÙˆÙ† Ù‡Ø¯Ù Ù…Ùˆ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©.' },
    { id: 'q11', type: 'yn', text: 'ØµØ±Ø§Ø­Ø© â€” Ø±ØºØ¨ØªÙƒ ÙÙŠ Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ø­ÙŠÙ† Ù‡ÙŠ Ø¨Ø³Ø¨Ø¨ Ø®ÙˆÙ Ø£Ùˆ Ø¶ØºØ· Ù†ÙØ³ÙŠØŸ', hint: 'ÙƒÙ† ØµØ§Ø¯Ù‚Ø§Ù‹. Ø§Ù„Ø®ÙˆÙ Ø­Ø§Ù„Ø© Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„ÙƒÙ†Ù‡Ø§ Ø£Ø³ÙˆØ£ Ù…Ø³ØªØ´Ø§Ø±.', weightYes: +3, weightNo: -1, hintYes: 'Ø§Ù„Ø®ÙˆÙ Ø£ÙƒØ¨Ø± Ø³Ø¨Ø¨ Ù„Ù„Ø¨ÙŠØ¹ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¹. Ø®Ø° Ù†ÙØ³Ø§Ù‹ ÙˆØ§Ù†ØªØ¸Ø± ÙŠÙˆÙ…ÙŠÙ†.', hintNo: 'Ù‚Ø±Ø§Ø±Ùƒ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ ØªÙÙƒÙŠØ± â€” Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ.' },
    {
        id: 'q12', type: 'choice',
        text: 'Ù…Ù† ÙƒÙ… ÙˆÙ‚Øª ØªØ­Ù…Ù„ Ø§Ù„Ø³Ù‡Ù… Ù‡Ø°Ø§ØŸ',
        hint: 'Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ù…Ù‡Ù…Ø© ÙÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù‚Ø±Ø§Ø±.',
        choices: [
            { label: 'ğŸ“… Ø£Ù‚Ù„ Ù…Ù† 6 Ø£Ø´Ù‡Ø±', weight: 0, hint: 'Ù‡Ù„ Ø§Ø´ØªØ±ÙŠØªÙ‡ Ø¨Ù‡Ø¯Ù Ø·ÙˆÙŠÙ„ Ø£Ù… Ù…Ø¶Ø§Ø±Ø¨Ø©ØŸ' },
            { label: 'ğŸ“… Ù…Ù† 6 Ø£Ø´Ù‡Ø± Ù„Ø³Ù†ØªÙŠÙ†', weight: +1, hint: 'Ù‚ÙŠÙ‘Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª Ù„Ø§ Ø§Ù„Ø³Ø¹Ø± ÙÙ‚Ø·.' },
            { label: 'ğŸ“… Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ù†ØªÙŠÙ†', weight: +2, hint: 'Ø§Ù„ØªÙ‚Ù„Ø¨Ø§Øª Ø¬Ø²Ø¡ Ø·Ø¨ÙŠØ¹ÙŠ Ù…Ù† Ø±Ø­Ù„Ø© Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± Ø§Ù„Ø·ÙˆÙŠÙ„.' }
        ]
    }
];

let currentQ = 0, scores = [], answers = {}, pendingYN = null, pendingChoiceIdx = null;

function renderQuestion() {
    const q = questions[currentQ];
    const pct = Math.round((currentQ / questions.length) * 100);
    document.getElementById('progressBar').style.width = pct + '%';
    document.getElementById('progressText').textContent = 'Ø§Ù„Ø³Ø¤Ø§Ù„ ' + (currentQ + 1) + ' Ù…Ù† ' + questions.length;

    let html = '<div class="question-number">Ø§Ù„Ø³Ø¤Ø§Ù„ ' + (currentQ + 1) + '</div>';
    html += '<div class="question-text">' + q.text + '</div>';
    html += '<div class="question-hint">' + q.hint + '</div>';

    if (q.type === 'choice') {
        html += '<div class="choice-buttons" id="choiceGroup">';
        q.choices.forEach((c, i) => { html += `<button class="btn-choice" id="choice_${i}" onclick="selectChoice(${i})">${c.label}</button>`; });
        html += '</div>';
        html += '<div id="choiceHint" style="font-size:0.82rem;color:#aaa;min-height:36px;margin-bottom:10px;"></div>';
        html += '<button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>Ø§Ù„ØªØ§Ù„ÙŠ â—€</button>';
    } else if (q.type === 'yn') {
        html += `<div class="yn-buttons"><button class="btn-yes" id="btnYes" onclick="selectYN('yes')">âœ… Ù†Ø¹Ù…</button><button class="btn-no" id="btnNo" onclick="selectYN('no')">âŒ Ù„Ø§</button></div>`;
        html += '<div id="ynHint" style="font-size:0.82rem;color:#aaa;min-height:36px;margin-bottom:10px;"></div>';
        html += '<button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>Ø§Ù„ØªØ§Ù„ÙŠ â—€</button>';
    } else if (q.type === 'number') {
        html += `<div class="input-group"><input type="number" id="numInput" placeholder="${q.placeholder}" min="0" step="0.01" oninput="validateNumber()"></div>`;
        html += '<button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>Ø§Ù„ØªØ§Ù„ÙŠ â—€</button>';
    }

    document.getElementById('questionBody').innerHTML = html;
    pendingYN = null; pendingChoiceIdx = null;
    if (q.type === 'number') setTimeout(() => document.getElementById('numInput').focus(), 50);
}

function selectChoice(idx) {
    pendingChoiceIdx = idx;
    document.querySelectorAll('.btn-choice').forEach((b, i) => b.classList.toggle('selected', i === idx));
    document.getElementById('choiceHint').textContent = questions[currentQ].choices[idx].hint;
    document.getElementById('btnNext').disabled = false;
}

function selectYN(val) {
    pendingYN = val;
    const q = questions[currentQ];
    document.getElementById('btnYes').classList.toggle('selected', val === 'yes');
    document.getElementById('btnNo').classList.toggle('selected', val === 'no');
    document.getElementById('ynHint').textContent = val === 'yes' ? q.hintYes : q.hintNo;
    document.getElementById('btnNext').disabled = false;
}

function validateNumber() {
    const v = parseFloat(document.getElementById('numInput').value);
    document.getElementById('btnNext').disabled = isNaN(v) || v <= 0;
}

function nextQuestion() {
    const q = questions[currentQ];
    if (q.type === 'choice') {
        const c = q.choices[pendingChoiceIdx];
        scores.push({ id: q.id, weight: c.weight, text: q.text, hint: c.hint });
        answers[q.id] = pendingChoiceIdx;
    } else if (q.type === 'yn') {
        const w = pendingYN === 'yes' ? q.weightYes : q.weightNo;
        const h = pendingYN === 'yes' ? q.hintYes : q.hintNo;
        scores.push({ id: q.id, weight: w, text: q.text, hint: h });
        answers[q.id] = pendingYN;
    } else if (q.type === 'number') {
        const v = parseFloat(document.getElementById('numInput').value);
        answers[q.key] = v;
        scores.push({ id: q.id, weight: 0, text: q.text, hint: '' });
    }
    currentQ++;
    currentQ < questions.length ? renderQuestion() : showResult();
}

function showResult() {
    document.getElementById('questionCard').style.display = 'none';
    document.getElementById('progressBar').style.width = '100%';

    let total = 0;
    scores.forEach(s => total += s.weight);

    const cost = answers.costPrice || 0;
    const current = answers.currentPrice || 0;
    let changePct = 0;
    if (cost > 0 && current > 0) {
        changePct = ((current - cost) / cost) * 100;
        if (changePct > 30)  total += 1;
        if (changePct < -40) total -= 1;
    }

    const maxScore = 22, minScore = -20;
    const pct = Math.min(100, Math.max(0, ((total - minScore) / (maxScore - minScore)) * 100));

    let decision, icon, titleClass, summary;
    if (total >= 8) {
        decision = 'Ø§Ø­ØªÙØ¸ Ø¨Ø§Ù„Ø³Ù‡Ù…'; icon = 'ğŸŸ¢'; titleClass = 'hold';
        summary = 'Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ ØªØ´ÙŠØ± Ø¨ÙˆØ¶ÙˆØ­ Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ù† Ù‚Ø±Ø§Ø± Ù…ØªØ³Ø±Ø¹. Ø§Ù„Ø´Ø±ÙƒØ© ØªØ¨Ø¯Ùˆ Ø¨Ø®ÙŠØ± ÙˆØ§Ù„Ø¶ØºØ· Ø§Ù„Ø­Ø§Ù„ÙŠ ØºØ§Ù„Ø¨Ø§Ù‹ Ù…Ø¤Ù‚Øª. Ø§Ù„ØµØ¨Ø± Ù‡Ù†Ø§ Ù…Ùˆ Ø¶Ø¹Ù â€” Ù‡Ùˆ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØµØ­.';
    } else if (total >= 2) {
        decision = 'ØªÙˆÙ‚Ù ÙˆØ±Ø§Ø¬Ø¹'; icon = 'ğŸŸ¡'; titleClass = 'review';
        summary = 'Ø§Ù„ØµÙˆØ±Ø© Ù…Ùˆ ÙˆØ§Ø¶Ø­Ø© 100%. Ù„Ø§ ØªØ¨ÙŠØ¹ ÙˆØ£Ù†Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø©. Ø§Ù‚Ø±Ø£ Ø¢Ø®Ø± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ø±ÙƒØ©ØŒ ÙÙ‡Ù… Ø³Ø¨Ø¨ Ø§Ù„Ù‡Ø¨ÙˆØ·ØŒ Ø«Ù… Ø§Ø±Ø¬Ø¹ ÙˆÙ‚Ø±Ø±.';
    } else {
        decision = 'ÙÙƒÙ‘Ø± Ø¬Ø¯ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ø¨ÙŠØ¹'; icon = 'ğŸ”´'; titleClass = 'sell';
        summary = 'Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ ØªØ´ÙŠØ± Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ ÙŠÙ†Ø·ÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø®Ø§Ø·Ø± Ø­Ù‚ÙŠÙ‚ÙŠØ©. ØªØ£ÙƒØ¯ Ø¥Ù† Ù‚Ø±Ø§Ø±Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ùˆ Ø§Ù„Ø®ÙˆÙØŒ ÙˆØ¥Ù† Ø¹Ù†Ø¯Ùƒ Ø®Ø·Ø© ÙˆØ§Ø¶Ø­Ø©.';
    }

    let barColor;
    if (pct >= 60) barColor = 'linear-gradient(90deg,#27ae60,#2ecc71)';
    else if (pct >= 35) barColor = 'linear-gradient(90deg,#f39c12,#f1c40f)';
    else barColor = 'linear-gradient(90deg,#c0392b,#e74c3c)';

    let factorsHTML = '';
    scores.forEach(s => {
        if (s.weight === 0 || !s.hint) return;
        const dotClass = s.weight > 0 ? 'dot-hold' : 'dot-sell';
        factorsHTML += `<div class="factor-item"><div class="factor-dot ${dotClass}"></div><div>${s.hint}</div></div>`;
    });

    let priceNote = '';
    if (cost > 0 && current > 0) {
        const sign = changePct >= 0 ? '+' : '';
        const color = changePct >= 0 ? '#27ae60' : '#e74c3c';
        priceNote = `<p style="font-size:0.9rem;color:${color};font-weight:bold;margin-bottom:15px;">Ø³Ø¹Ø± Ø´Ø±Ø§Ø¦Ùƒ: ${cost.toFixed(2)} Ø±.Ø³ &nbsp;|&nbsp; Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ: ${current.toFixed(2)} Ø±.Ø³ &nbsp;|&nbsp; Ø§Ù„ØªØºÙŠÙŠØ±: ${sign}${changePct.toFixed(1)}%</p>`;
    }

    const resultCard = document.getElementById('resultCard');
    resultCard.innerHTML = `
        <div class="result-icon">${icon}</div>
        <div class="result-title ${titleClass}">${decision}</div>
        ${priceNote}
        <p class="result-summary">${summary}</p>
        <div class="score-meter">
            <div class="score-label"><span>Ø¨ÙŠØ¹ ÙˆØ§Ø¶Ø­</span><span>Ø§Ø­ØªÙØ¸ Ø¨Ø«Ù‚Ø©</span></div>
            <div class="score-bar-wrap"><div class="score-bar-fill" style="width:${pct}%;background:${barColor};"></div></div>
            <div class="score-text">Ù…Ø¤Ø´Ø± Ø§Ù„Ø§Ø­ØªÙØ§Ø¸: ${Math.round(pct)}%</div>
        </div>
        <div class="factors-section">
            <h4>ğŸ“‹ Ø£Ø¨Ø±Ø² Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø¤Ø«Ø±Ø©:</h4>
            ${factorsHTML || '<p style="color:#999;font-size:0.85rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹ÙˆØ§Ù…Ù„ Ø¨Ø§Ø±Ø²Ø©.</p>'}
        </div>
        <button class="btn-restart" onclick="restart()">ğŸ”„ ØªÙ‚ÙŠÙŠÙ… Ø³Ù‡Ù… Ø¢Ø®Ø±</button>
    `;
    resultCard.style.display = 'block';

    /* ===== Ø¶Ø®Ù‘ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ ===== */
    resultCard.classList.remove('result-positive','result-negative','result-warning');
    if (titleClass === 'hold')   resultCard.classList.add('result-positive');
    if (titleClass === 'sell')   resultCard.classList.add('result-negative');
    if (titleClass === 'review') resultCard.classList.add('result-warning');
    if (window.ResultsEngine)    window.ResultsEngine.paint();

    resultCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function restart() {
    currentQ = 0; scores = []; answers = {}; pendingYN = null; pendingChoiceIdx = null;
    const rc = document.getElementById('resultCard');
    rc.style.display = 'none';
    rc.classList.remove('result-positive','result-negative','result-warning');
    document.getElementById('questionCard').style.display = 'block';
    renderQuestion();
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

window.addEventListener('scroll', function () {
    document.getElementById('backToTop').classList.toggle('visible', window.scrollY > 300);
});

document.addEventListener('DOMContentLoaded', renderQuestion);
</script>
</body>
</html>
