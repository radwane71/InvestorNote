<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø§Ø³Ø¨Ø© ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ© - Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±</title>
    <link rel="stylesheet" href="navigation.css">
    <link rel="stylesheet" href="dark-theme.css">
    <style>
        :root {
            --red:        #d67a6a;
            --deep-red:   #8e1a1a;
            --orange:     #e89d5a;
            --yellow:     #f1c40f;
            --green:      #5a9d7a;
            --dark:       #2c3e50;
            --dark-green: #4a8d6a;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
            background: linear-gradient(135deg, #e8f0f5, #d0e0e8);
            min-height: 100vh; padding: 20px; color: var(--dark);
        }
        .container { max-width: 960px; margin: 0 auto; }
        .card {
            background: white; padding: 30px; border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px;
        }
        h1, h2 { text-align: center; color: var(--dark); margin-bottom: 20px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9em; color: #495057; }
        input[type="number"] {
            width: 100%; padding: 12px; border: 2px solid #e9ecef;
            border-radius: 8px; font-size: 0.95rem; transition: border-color 0.3s; background: white;
        }
        input[type="number"]:focus { outline: none; border-color: #5a7fb5; }
        .field-hint { font-size: 0.78rem; color: #888; margin-top: 4px; line-height: 1.4; }

        /* ===== Philosophy ===== */
        .philosophy-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px; border-radius: 12px; margin-bottom: 25px;
        }
        .philosophy-section h3 {
            color: #495057; border-right: 4px solid #5a7fb5;
            padding-right: 15px; margin-bottom: 15px;
        }
        .philosophy-section p  { line-height: 1.8; margin-bottom: 12px; color: #495057; }
        .philosophy-section ul { margin-right: 20px; line-height: 2; }

        /* ===== Assets / Debts ===== */
        .assets-section {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 2px solid var(--green); border-radius: 12px; padding: 20px;
        }
        .assets-section h3 { color: #155724; margin-bottom: 15px; text-align: center; }
        .debts-section {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            border: 2px solid var(--red); border-radius: 12px; padding: 20px;
        }
        .debts-section h3 { color: #721c24; margin-bottom: 15px; text-align: center; }

        /* ===== Gauge ===== */
        .gauge-container {
            position: relative; width: 320px; margin: 30px auto;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 20px; padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .gauge-svg { width: 100%; height: auto; }

        /* ===== Pyramid ===== */
        .pyramid-container { text-align: center; }
        .pyramid-levels {
            display: flex; flex-direction: column;
            align-items: center; gap: 4px; margin-top: 10px;
        }
        .pyramid-level {
            padding: 10px 15px; text-align: center; font-weight: bold;
            color: white; border-radius: 8px; transition: all 0.4s ease; font-size: 0.9rem;
        }
        .pyramid-level.active {
            border: 3px solid var(--dark) !important;
            box-shadow: 0 6px 18px rgba(0,0,0,0.35);
            transform: scale(1.04);
        }
        .pyramid-level.active::after { content: ' ğŸ‘¤'; }

        /* ===== Result area â€” âœ… Ø¥ØµÙ„Ø§Ø­: CSS classes Ù…ÙØ¹Ø±ÙÙ‘ÙØ© Ø§Ù„Ø¢Ù† ===== */
        .result-area {
            display: none; text-align: center; padding: 30px;
            border-radius: 15px; margin-top: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid transparent; transition: background 0.5s, border-color 0.5s;
        }
        .result-area.result-critical { background: linear-gradient(135deg, #f0c0c0, #e8a0a0); border-color: var(--deep-red); }
        .result-area.result-negative { background: linear-gradient(135deg, #f8d7da, #f5c6cb); border-color: var(--red); }
        .result-area.result-warning  { background: linear-gradient(135deg, #fff3cd, #ffeaa7); border-color: var(--yellow); }
        .result-area.result-good     { background: linear-gradient(135deg, #d4edda, #c3e6cb); border-color: var(--green); }
        .result-area.result-positive { background: linear-gradient(135deg, #a8d5be, #8ec5a8); border-color: var(--dark-green); }

        .status-text  { font-size: 1.8em; font-weight: bold; margin: 15px 0; }
        .amount-text  { font-size: 2.5em; color: var(--dark-green); font-weight: bold; margin: 10px 0; }
        .visuals-row  {
            display: flex; justify-content: space-around;
            align-items: flex-start; flex-wrap: wrap; gap: 20px; margin: 30px 0;
        }

        /* ===== Benchmark Card ===== */
        .benchmark-card {
            background: white; border-radius: 12px; padding: 20px;
            margin: 20px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-right: 5px solid #5a7fb5; text-align: right;
        }
        .benchmark-card h4 { color: #34495e; margin-bottom: 12px; font-size: 1rem; }
        .benchmark-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 8px 0; border-bottom: 1px solid #f0f0f0;
        }
        .benchmark-row:last-child { border-bottom: none; }
        .benchmark-label  { color: #666; font-size: 0.9rem; }
        .benchmark-value  { font-weight: bold; font-size: 1rem; }
        .benchmark-gap    { font-size: 0.85rem; font-weight: bold; }
        .gap-positive     { color: var(--dark-green); }
        .gap-negative     { color: var(--red); }

        /* ===== Advice Section ===== */
        .advice-section {
            background: white; border-radius: 12px; padding: 20px; margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        .advice-section h4 { color: var(--dark); margin-bottom: 15px; font-size: 1rem; border-bottom: 2px solid #e9ecef; padding-bottom: 8px; }
        .advice-item {
            display: flex; align-items: flex-start; gap: 10px;
            padding: 10px 0; border-bottom: 1px solid #f5f5f5;
        }
        .advice-item:last-child { border-bottom: none; }
        .advice-icon  { font-size: 1.3rem; flex-shrink: 0; }
        .advice-text  { font-size: 0.9rem; color: #495057; line-height: 1.6; }

        /* ===== Details Box ===== */
        .details-box {
            margin-top: 20px; text-align: right; font-size: 0.95em;
            border-top: 1px solid #eee; padding-top: 15px;
        }
        .details-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;
        }
        .detail-item { background: #f8f9fa; border-radius: 8px; padding: 10px 14px; }
        .detail-item .d-label { font-size: 0.8rem; color: #888; margin-bottom: 4px; }
        .detail-item .d-value { font-size: 1rem; font-weight: bold; color: var(--dark); }

        /* ===== Sources ===== */
        .sources-box {
            background: #f8f9fa; border-radius: 8px; padding: 15px;
            margin-top: 15px; text-align: right; font-size: 0.85em;
        }
        .sources-box li { margin-bottom: 6px; }
        .sources-box a  { color: #5a7fb5; text-decoration: none; }

        /* ===== Buttons ===== */
        button {
            width: 100%; padding: 15px; border: none; border-radius: 8px;
            font-size: 1.1em; font-weight: bold; cursor: pointer; margin-top: 10px; transition: all 0.3s;
        }
        .btn-calc  { background: var(--dark);  color: white; }
        .btn-calc:hover  { background: #34495e; transform: translateY(-2px); }
        .btn-reset { background: var(--red);   color: white; }
        .btn-reset:hover { background: #c66a5a; transform: translateY(-2px); }
        .btn-print { background: var(--green); color: white; margin-top: 20px; }
        .btn-print:hover { background: var(--dark-green); transform: translateY(-2px); }

        /* ===== Print ===== */
        @media print {
            .no-print { display: none !important; }
            .result-area { display: block !important; border: none; }
            body { background: white; }
        }

        /* ===== Responsive ===== */
        @media (max-width: 768px) {
            .grid         { grid-template-columns: 1fr; }
            .gauge-container { width: 260px; }
            .details-grid { grid-template-columns: 1fr; }
        }
        @media (max-width: 480px) {
            body { padding: 10px; }
            .card { padding: 20px; }
        }
    </style>
</head>
<body>
<div class="container">

    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">ğŸ“ˆ Ù…ÙÙƒØ±Ø© Ù…Ø³ØªØ«Ù…Ø±</a>
            <button class="navbar-toggle no-print" onclick="toggleNavbar()">â˜°</button>
            <div class="navbar-menu" id="navbarMenu">
                <a href="index.html"                     class="navbar-item">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="advice.html"                    class="navbar-item calculator active">ğŸ’° ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ©</a>
                <a href="salary_calculator.html"         class="navbar-item salary">ğŸ’¼ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø±Ø§ØªØ¨</a>
                <a href="zakat_purification.html"        class="navbar-item zakat">ğŸ•Œ Ø§Ù„Ø²ÙƒØ§Ø©</a>
                <a href="financial_freedom.html"         class="navbar-item fire">ğŸ”¥ Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</a>
                <a href="investor_tips.html"             class="navbar-item tips">âš ï¸ Ù†ØµØ§Ø¦Ø­</a>
                <a href="snowball_calculator.html"       class="navbar-item calculator">â„ï¸ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø±ÙƒØ¨</a>
                <a href="emergency_fund_calculator.html" class="navbar-item emergency">ğŸ›¡ï¸ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</a>
                <a href="average_calculator.html"        class="navbar-item average">ğŸ“Š Ù…ØªÙˆØ³Ø· Ø§Ù„Ø´Ø±Ø§Ø¡</a>
                <a href="company_valuation.html"         class="navbar-item company">ğŸ¢ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø´Ø±ÙƒØ©</a>
                <a href="retirement_calculator.html"     class="navbar-item retirement">ğŸ–ï¸ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</a>
                <a href="portfolio_rating.html"          class="navbar-item portfolio">ğŸ›¡ï¸ Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>
                <a href="stock_valuation.html"           class="navbar-item calculator">ğŸ“Š ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø³Ù‡Ù…</a>
                <a href="dca_calculator.html"            class="navbar-item calculator">ğŸ“… DCA</a>
                <a href="sell_decision.html"             class="navbar-item calculator">ğŸ¤” Ù‡Ù„ Ø£Ø¨ÙŠØ¹ØŸ</a>
                <a href="goal_calculator.html"           class="navbar-item calculator">ğŸ¯ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø¹ÙƒØ³ÙŠ</a>
                <a href="allocation_calculator.html"     class="navbar-item allocation">âš–ï¸ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø­ÙØ¸Ø©</a>
            </div>
        </div>
    </nav>

    <script>
        function toggleNavbar() { document.getElementById('navbarMenu').classList.toggle('open'); }
        document.addEventListener('DOMContentLoaded', function () {
            const page = (window.location.pathname.split('/').pop() || 'index.html').split('?')[0].split('#')[0] || 'index.html';
            document.querySelectorAll('.navbar-item').forEach(function (el) {
                el.classList.remove('active');
                if ((el.getAttribute('href') || '').split('?')[0].split('#')[0] === page) el.classList.add('active');
            });
        });
    </script>

    <!-- ===== Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ===== -->
    <div class="card no-print">
        <h1>âš–ï¸ Ø­Ø§Ø³Ø¨Ø© ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©</h1>
        <p style="text-align:center;margin-bottom:20px;color:#555;">
            Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø¨Ø¯Ù‚Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØµÙ†ÙŠÙ Ø´Ø§Ù…Ù„ ÙˆÙ…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ø¹Ù…Ø±Ùƒ.
        </p>

        <div class="philosophy-section">
            <h3>ğŸ¤” Ø§Ù„ÙÙ„Ø³ÙØ© ÙˆØ±Ø§Ø¡ Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</h3>
            <p>Ø§Ù„Ø«Ø±ÙˆØ© Ù„ÙŠØ³Øª ÙÙ‚Ø· Ø¹Ù† Ø§Ù„Ù…Ø§Ù„ â€” Ø¨Ù„ Ø¹Ù† ÙƒÙŠÙ ØªØ³ØªØ®Ø¯Ù…Ù‡ ÙˆØªÙ†Ù…ÙŠÙ‡.</p>
            <ul>
                <li>ğŸ“ˆ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø«Ø±ÙˆØ©</li>
                <li>ğŸ“Š Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ø§Ù„ÙŠ Ù‡Ùˆ Ø£Ø³Ø§Ø³ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</li>
                <li>ğŸ’¡ Ø§Ù„Ù…Ø¹Ø±ÙØ© Ù‡ÙŠ Ø§Ù„Ù‚ÙˆØ©</li>
            </ul>
        </div>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ© -->
        <h3 style="color:var(--dark);margin-bottom:15px;border-right:4px solid #5a7fb5;padding-right:12px;">ğŸ‘¤ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
        <div class="grid" style="margin-bottom:20px;">
            <div class="input-group">
                <label>ğŸ“… Ø§Ù„Ø¹Ù…Ø± (Ø³Ù†ÙˆØ§Øª)</label>
                <input type="number" id="age" placeholder="Ù…Ø«Ù„Ø§Ù‹: 35" min="18" max="100">
            </div>
            <div class="input-group">
                <!-- âœ… Ø­Ù‚Ù„ Ø¬Ø¯ÙŠØ¯: Ù„Ø§Ø²Ù… Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© -->
                <label>ğŸ’¼ Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø³Ù†ÙˆÙŠ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ (Ø±ÙŠØ§Ù„)</label>
                <input type="number" id="annual_income" placeholder="Ù…Ø«Ù„Ø§Ù‹: 120000" min="0">
                <p class="field-hint">Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø³Ù†ÙˆÙŠ + Ø£ÙŠ Ø¯Ø®Ù„ Ø«Ø§Ø¨Øª Ø¢Ø®Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</p>
            </div>
            <div class="input-group">
                <label>ğŸ¥‡ Ø³Ø¹Ø± Ø¬Ø±Ø§Ù… Ø§Ù„Ø°Ù‡Ø¨ (Ø±ÙŠØ§Ù„)</label>
                <input type="number" id="gold_price_per_gram" value="420" min="1" placeholder="420">
                <p class="field-hint">Ø³Ø¹Ø± Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ â€” Ø±Ø§Ø¬Ø¹ Ø³Ø¹Ø± Ø§Ù„Ø³ÙˆÙ‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„</p>
            </div>
        </div>

        <!-- Ø§Ù„Ø£ØµÙˆÙ„ ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª -->
        <div class="grid">
            <div class="assets-section">
                <h3>ğŸ’° Ø§Ù„Ø£ØµÙˆÙ„</h3>
                <div class="input-group"><label>Ù†Ù‚Ø¯ ÙˆÙˆØ¯Ø§Ø¦Ø¹ Ø¨Ù†ÙƒÙŠØ©</label><input type="number" class="asset" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ø£Ø³Ù‡Ù… ÙˆØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ©</label><input type="number" class="asset" placeholder="0" min="0"></div>
                <div class="input-group">
                    <label>Ø°Ù‡Ø¨ ÙˆÙØ¶Ø© (Ø¬Ø±Ø§Ù…)</label>
                    <input type="number" id="gold_grams" placeholder="0" min="0">
                </div>
                <div class="input-group"><label>Ø¹Ù‚Ø§Ø±Ø§Øª (Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³ÙˆÙ‚ÙŠØ©)</label><input type="number" class="asset" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</label><input type="number" class="asset" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ø³ÙŠØ§Ø±Ø§Øª ÙˆÙ…Ø¹Ø¯Ø§Øª</label><input type="number" class="asset" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ (GOSI / HRSD)</label><input type="number" class="asset" placeholder="0" min="0"></div>
            </div>
            <div class="debts-section">
                <h3>ğŸ’³ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª</h3>
                <div class="input-group"><label>Ù‚Ø±ÙˆØ¶ Ø¹Ù‚Ø§Ø±ÙŠØ© (Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ)</label><input type="number" class="debt" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ù‚Ø±ÙˆØ¶ Ø³ÙŠØ§Ø±Ø§Øª</label><input type="number" class="debt" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ù‚Ø±ÙˆØ¶ Ø´Ø®ØµÙŠØ©</label><input type="number" class="debt" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ø¯ÙŠÙˆÙ† Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ø¦ØªÙ…Ø§Ù†ÙŠØ©</label><input type="number" class="debt" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ø¯ÙŠÙˆÙ† ØªØ¬Ø§Ø±ÙŠØ©</label><input type="number" class="debt" placeholder="0" min="0"></div>
                <div class="input-group"><label>Ø¯ÙŠÙˆÙ† Ø£Ø®Ø±Ù‰</label><input type="number" class="debt" placeholder="0" min="0"></div>
            </div>
        </div>

        <button class="btn-calc"  onclick="calculateAll()">âš–ï¸ Ø§Ø­Ø³Ø¨ ØµØ§ÙÙŠ Ø§Ù„Ø«Ø±ÙˆØ©</button>
        <button class="btn-reset" onclick="resetAll()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
    </div>

    <!-- ===== Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ===== -->
    <div id="printable-result" class="result-area">
        <h2>ğŸ“‹ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h2>
        <div id="report-date" style="font-size:0.9em;color:#666;margin-bottom:10px;"></div>

        <div class="visuals-row">
            <!-- Ø§Ù„Ù…Ù‚ÙŠØ§Ø³ -->
            <div class="gauge-container">
                <svg class="gauge-svg" viewBox="0 0 140 110">
                    <!-- Ø®Ù„ÙÙŠØ© Ø±Ù…Ø§Ø¯ÙŠØ© -->
                    <path d="M10 70 A60 60 0 0 1 130 70" fill="none" stroke="#e0e0e0" stroke-width="18" stroke-linecap="round"/>
                    <!-- âœ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„ØµØ§ÙÙŠ (Ø£Ù‚ØµÙ‰ ÙŠØ³Ø§Ø±) -->
                    <path d="M10 70 A60 60 0 0 1 22 40"  fill="none" stroke="#8e1a1a" stroke-width="12" stroke-linecap="round"/>
                    <path d="M22 40 A60 60 0 0 1 35 25"  fill="none" stroke="#d67a6a" stroke-width="12" stroke-linecap="round"/>
                    <path d="M35 25 A60 60 0 0 1 70 16"  fill="none" stroke="#e89d5a" stroke-width="12" stroke-linecap="round"/>
                    <path d="M70 16 A60 60 0 0 1 105 25" fill="none" stroke="#f1c40f" stroke-width="12" stroke-linecap="round"/>
                    <path d="M105 25 A60 60 0 0 1 130 70" fill="none" stroke="#5a9d7a" stroke-width="12" stroke-linecap="round"/>
                    <!-- Ø§Ù„Ø¥Ø¨Ø±Ø© -->
                    <line id="needle" x1="70" y1="70" x2="70" y2="18"
                          stroke="#2c3e50" stroke-width="2.5" stroke-linecap="round"
                          transform="rotate(-90 70 70)"
                          style="transition:transform 1.5s cubic-bezier(0.4,0,0.2,1);"/>
                    <circle cx="70" cy="70" r="6" fill="white" stroke="#2c3e50" stroke-width="2"/>
                    <!-- ØªØ³Ù…ÙŠØ§Øª -->
                    <text x="9"   y="87" font-size="6" fill="#888" text-anchor="middle">Ù…Ø¯ÙŠÙˆÙ†</text>
                    <text x="22"  y="37" font-size="6" fill="#888" text-anchor="middle">Ù…Ø³ØªÙˆØ±Ø©</text>
                    <text x="50"  y="18" font-size="6" fill="#888" text-anchor="middle">Ù…ØªÙˆØ³Ø·Ø©</text>
                    <text x="90"  y="14" font-size="6" fill="#888" text-anchor="middle">Ø¹Ù„ÙŠØ§</text>
                    <text x="116" y="22" font-size="6" fill="#888" text-anchor="middle">Ø£Ø«Ø±ÙŠØ§Ø¡</text>
                    <text x="131" y="87" font-size="6" fill="#888" text-anchor="middle">ÙØ§Ø­Ø´</text>
                </svg>
                <div id="gauge-label" style="text-align:center;font-weight:bold;font-size:0.95rem;margin-top:8px;color:var(--dark);">â€”</div>
            </div>

            <!-- Ø§Ù„Ù‡Ø±Ù… -->
            <div class="pyramid-container">
                <h3 style="margin-bottom:15px;color:var(--dark);">ğŸ›ï¸ Ù‡Ø±Ù… Ø§Ù„Ø«Ø±ÙˆØ©</h3>
                <div class="pyramid-levels">
                    <div id="level-5" class="pyramid-level" style="width:100px;background:linear-gradient(135deg,#2c8a5a,#1a6a40);">ÙØ§Ø­Ø´Ø© Ø§Ù„Ø«Ø±Ø§Ø¡</div>
                    <div id="level-4" class="pyramid-level" style="width:160px;background:linear-gradient(135deg,#5a9d7a,#4a8d6a);">Ø§Ù„Ø£Ø«Ø±ÙŠØ§Ø¡</div>
                    <div id="level-3" class="pyramid-level" style="width:220px;background:linear-gradient(135deg,#f1c40f,#e89d5a);">Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø¹Ù„ÙŠØ§</div>
                    <div id="level-2" class="pyramid-level" style="width:280px;background:linear-gradient(135deg,#e89d5a,#d88d4a);">Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</div>
                    <div id="level-1" class="pyramid-level" style="width:330px;background:linear-gradient(135deg,#d67a6a,#c66a5a);">Ø§Ù„Ù…Ø³ØªÙˆØ±Ø©</div>
                    <!-- âœ… Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯: Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„ØµØ§ÙÙŠØ© -->
                    <div id="level-0" class="pyramid-level" style="width:380px;background:linear-gradient(135deg,#8e1a1a,#6e0a0a);">Ø§Ù„Ù…Ø¯ÙŠÙˆÙ† Ø§Ù„ØµØ§ÙÙŠ</div>
                </div>
            </div>
        </div>

        <div class="status-text"  id="status-label">â€”</div>
        <div class="amount-text"  id="networth-display">0 Ø±ÙŠØ§Ù„</div>

        <!-- âœ… Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø¨Ø§Ù„Ø¹Ù…Ø± -->
        <div class="benchmark-card" id="benchmarkCard" style="display:none;">
            <h4>ğŸ¯ Ø§Ù„Ù…Ø¹ÙŠØ§Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø¨Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…Ø± ÙˆØ§Ù„Ø¯Ø®Ù„</h4>
            <div class="benchmark-row">
                <span class="benchmark-label">Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© Ù„Ø¹Ù…Ø±Ùƒ (Ù…Ø¹Ø§Ø¯Ù„Ø© Stanley & Danko)</span>
                <span class="benchmark-value" id="bm-target">â€”</span>
            </div>
            <div class="benchmark-row">
                <span class="benchmark-label">Ø«Ø±ÙˆØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</span>
                <span class="benchmark-value" id="bm-current">â€”</span>
            </div>
            <div class="benchmark-row">
                <span class="benchmark-label">Ø§Ù„ÙØ¬ÙˆØ©</span>
                <span class="benchmark-value benchmark-gap" id="bm-gap">â€”</span>
            </div>
            <div class="benchmark-row">
                <span class="benchmark-label">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</span>
                <span class="benchmark-value" id="bm-rating">â€”</span>
            </div>
            <p style="font-size:0.78rem;color:#888;margin-top:10px;">
                Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© = (Ø§Ù„Ø¹Ù…Ø± Ã— Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø³Ù†ÙˆÙŠ) Ã· 10
                â€” Ù…ØµØ¯Ø±: ÙƒØªØ§Ø¨ "The Millionaire Next Door" Ù„Ù€ Stanley & Danko
            </p>
        </div>

        <!-- ØªÙØ§ØµÙŠÙ„ -->
        <div class="details-box">
            <strong>ğŸ“Š ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨:</strong>
            <div class="details-grid" id="detailsGrid"></div>
        </div>

        <!-- âœ… Ù†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ© Ø¨Ø­Ø³Ø¨ Ø§Ù„Ø·Ø¨Ù‚Ø© -->
        <div class="advice-section" id="adviceSection">
            <h4>ğŸ’¡ ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ© Ù„ÙˆØ¶Ø¹Ùƒ</h4>
            <div id="adviceList"></div>
        </div>

        <!-- Ù…Ø±Ø¬Ø¹ Ø§Ù„ØªØµÙ†ÙŠÙ -->
        <div class="sources-box">
            <strong>ØªØµÙ†ÙŠÙ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª (Ù…Ø¹Ø§ÙŠÙŠØ± Ø³Ø¹ÙˆØ¯ÙŠØ© ØªÙ‚Ø±ÙŠØ¨ÙŠØ©):</strong>
            <ul style="margin:10px 0;padding-right:20px;line-height:2;">
                <li style="color:var(--deep-red);">âš« Ø£Ù‚Ù„ Ù…Ù† 0: Ø§Ù„Ù…Ø¯ÙŠÙˆÙ† Ø§Ù„ØµØ§ÙÙŠ</li>
                <li style="color:var(--red);">ğŸ”´ 0 â€“ 75 Ø£Ù„Ù: Ø§Ù„Ù…Ø³ØªÙˆØ±Ø©</li>
                <li style="color:var(--orange);">ğŸŸ  75 Ø£Ù„Ù â€“ 330 Ø£Ù„Ù: Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</li>
                <li style="color:#c9a700;">ğŸŸ¡ 330 Ø£Ù„Ù â€“ 1.875 Ù…Ù„ÙŠÙˆÙ†: Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø¹Ù„ÙŠØ§</li>
                <li style="color:var(--green);">ğŸŸ¢ 1.875 Ù…Ù„ÙŠÙˆÙ† â€“ 37.5 Ù…Ù„ÙŠÙˆÙ†: Ø§Ù„Ø£Ø«Ø±ÙŠØ§Ø¡</li>
                <li style="color:var(--dark-green);">ğŸŸ¢ Ø£ÙƒØ«Ø± Ù…Ù† 37.5 Ù…Ù„ÙŠÙˆÙ†: ÙØ§Ø­Ø´Ø© Ø§Ù„Ø«Ø±Ø§Ø¡</li>
            </ul>
        </div>

        <button class="btn-print no-print" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / PDF</button>
    </div>
</div>

<script>
// ===== Toggle Navbar =====
function toggleNavbar() { document.getElementById('navbarMenu').classList.toggle('open'); }

// ===== Format Currency =====
function fmt(n) {
    return n.toLocaleString('ar-SA', { maximumFractionDigits: 0 }) + ' Ø±ÙŠØ§Ù„';
}

// ===== âœ… Ø¥ØµÙ„Ø§Ø­: Ø¥Ø¨Ø±Ø© Ø³Ù„Ø³Ø© Ù…Ø¹ Ø§Ø³ØªÙŠÙØ§Ø¡ Ø¯Ø§Ø®Ù„ ÙƒÙ„ Ù†Ø·Ø§Ù‚ =====
function getNeedleAngle(netWorth) {
    const tiers = [
        { min: -Infinity,  max: 0,          aMin: -90, aMax: -75 },
        { min: 0,          max: 75000,       aMin: -75, aMax: -45 },
        { min: 75000,      max: 330000,      aMin: -45, aMax: 0   },
        { min: 330000,     max: 1875000,     aMin: 0,   aMax: 45  },
        { min: 1875000,    max: 37500000,    aMin: 45,  aMax: 85  },
        { min: 37500000,   max: Infinity,    aMin: 85,  aMax: 90  },
    ];
    for (const t of tiers) {
        if (netWorth >= t.min && netWorth < t.max) {
            if (!isFinite(t.min) || !isFinite(t.max)) return t.aMin;
            const ratio = (netWorth - t.min) / (t.max - t.min);
            return t.aMin + ratio * (t.aMax - t.aMin);
        }
    }
    return 90;
}

// ===== âœ… Ù†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ© =====
const ADVICE = {
    0: [
        { icon: 'ğŸš¨', text: 'Ø£ÙˆÙ„ÙˆÙŠØªÙƒ Ø§Ù„Ù‚ØµÙˆÙ‰: ÙˆÙ‚Ù Ù†Ø²ÙŠÙ Ø§Ù„Ø¯ÙŠÙˆÙ†. Ø§Ø¨Ø¯Ø£ Ø¨Ø³Ø¯Ø§Ø¯ Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø£ÙˆÙ„Ø§Ù‹ (avalanche method).' },
        { icon: 'ğŸ“µ', text: 'Ø£ÙˆÙ‚Ù Ø£ÙŠ Ø§Ø³ØªØ«Ù…Ø§Ø± Ø¬Ø¯ÙŠØ¯ Ù…Ø¤Ù‚ØªØ§Ù‹. Ø§Ù„Ø¯ÙŠÙ† Ø¨ÙØ§Ø¦Ø¯Ø© Ù‡Ùˆ Ø§Ø³ØªØ«Ù…Ø§Ø± Ø³Ø§Ù„Ø¨ Ù…Ø¶Ù…ÙˆÙ†.' },
        { icon: 'ğŸ“‹', text: 'Ø±ØªÙ‘Ø¨ Ø¯ÙŠÙˆÙ†Ùƒ: Ø£ØµØºØ±Ù‡Ø§ Ø£ÙˆÙ„Ø§Ù‹ Ù†ÙØ³ÙŠØ§Ù‹ (snowball) Ø£Ùˆ Ø§Ù„Ø£Ø¹Ù„Ù‰ ÙØ§Ø¦Ø¯Ø© Ù…Ø§Ù„ÙŠØ§Ù‹ (avalanche).' },
        { icon: 'ğŸ“', text: 'ØªÙØ§ÙˆØ¶ Ù…Ø¹ Ø§Ù„Ø¨Ù†Ùƒ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù‚Ø±ÙˆØ¶ Ø¨ÙØ§Ø¦Ø¯Ø© Ø£Ù‚Ù„ Ø¥Ø°Ø§ Ø£Ù…ÙƒÙ†.' },
    ],
    1: [
        { icon: 'ğŸ’°', text: 'Ø§Ø¨Ù†Ù ØµÙ†Ø¯ÙˆÙ‚ Ø·ÙˆØ§Ø±Ø¦ ÙŠÙƒÙÙŠ 3 Ø£Ø´Ù‡Ø± Ù…Ù† Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ù‚Ø¨Ù„ Ø£ÙŠ Ø§Ø³ØªØ«Ù…Ø§Ø±.' },
        { icon: 'ğŸ“‰', text: 'Ø±Ø§Ø¬Ø¹ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© â€” Ø­Ø¯Ø¯ Ø¨Ù†ÙˆØ¯ Ø§Ù„Ø¥Ù†ÙØ§Ù‚ ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ ÙˆÙ‚Ù„Ù‘ØµÙ‡Ø§ ÙÙˆØ±Ø§Ù‹.' },
        { icon: 'ğŸ¯', text: 'Ø§Ø³ØªÙ‡Ø¯Ù ØªÙˆÙÙŠØ± 10% Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù…Ù† Ø¯Ø®Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø£Ù…Ø± Ø¨Ù†ÙƒÙŠ Ø¯Ø§Ø¦Ù….' },
        { icon: 'ğŸ“š', text: 'Ø§Ø¨Ø¯Ø£ Ø¨ØªØ¹Ù„Ù… Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± (ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„Ù…Ø¤Ø´Ø±Ø§ØªØŒ Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ù…Ø¯Ø±Ø© Ù„Ù„Ø£Ø±Ø¨Ø§Ø­).' },
    ],
    2: [
        { icon: 'ğŸ“ˆ', text: 'ÙˆØ³Ù‘Ø¹ Ù…Ø­ÙØ¸ØªÙƒ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ© â€” Ø§Ø¬Ø¹Ù„ Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªÙƒ 20-30% Ù…Ù† ØµØ§ÙÙŠ Ø«Ø±ÙˆØªÙƒ.' },
        { icon: 'ğŸ›¡ï¸', text: 'ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ ØªØ£Ù…ÙŠÙ† ÙƒØ§ÙÙ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø®Ù„ ÙˆØ§Ù„Ù…Ù…ØªÙ„ÙƒØ§Øª.' },
        { icon: 'ğŸ”„', text: 'Ø²Ø¯ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø§Ø¯Ø®Ø§Ø± Ø¥Ù„Ù‰ 20%+ â€” Ø§Ù„ÙØ¬ÙˆØ© Ø¨ÙŠÙ†Ùƒ ÙˆØ§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¹Ù„ÙŠØ§ ØªÙØ¹Ø¨ÙØ± Ø¨Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·.' },
        { icon: 'ğŸ ', text: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ù‚Ø±Ø¶ Ø¹Ù‚Ø§Ø±ÙŠØŒ Ø³Ø¯Ù‘Ø¯ Ø¯ÙØ¹Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„ØªÙ‚Ù„ÙŠØµ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„ÙƒÙ„ÙŠØ©.' },
    ],
    3: [
        { icon: 'âš–ï¸', text: 'ÙˆØ²Ù‘Ø¹ Ù…Ø­ÙØ¸ØªÙƒ Ø¹Ù„Ù‰ Ø£ØµÙˆÙ„ Ù…ØªÙ†ÙˆØ¹Ø©: Ø£Ø³Ù‡Ù…ØŒ Ø¹Ù‚Ø§Ø±ØŒ Ø°Ù‡Ø¨ØŒ Ø¯Ø®Ù„ Ø«Ø§Ø¨Øª.' },
        { icon: 'ğŸ”¥', text: 'Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø­Ø±ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© â€” ÙƒÙ… ØªØ­ØªØ§Ø¬ Ù„ØªØ¹ÙŠØ´ Ø¹Ù„Ù‰ Ø¹ÙˆØ§Ø¦Ø¯ Ø«Ø±ÙˆØªÙƒØŸ' },
        { icon: 'ğŸ“Š', text: 'Ø±Ø§Ø¬Ø¹ Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ®ØµÙŠØµ Ø³Ù†ÙˆÙŠØ§Ù‹ ÙˆØ£Ø¹Ø¯ Ø§Ù„ØªÙˆØ§Ø²Ù† Ù„Ø¶Ù…Ø§Ù† Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„ØªØ¶Ø®Ù….' },
        { icon: 'ğŸ¯', text: 'Ø¶Ø¹ Ù‡Ø¯ÙØ§Ù‹ ÙˆØ§Ø¶Ø­Ø§Ù‹: ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¨ÙƒØ± ÙˆØ±Ù‚Ù… FIRE Ø§Ù„Ù…Ø·Ù„ÙˆØ¨.' },
    ],
    4: [
        { icon: 'ğŸ›ï¸', text: 'Ø§Ø¨Ø¯Ø£ Ø¨ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…ÙŠØ±Ø§Ø« ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù„Ù„Ø£ØµÙˆÙ„ (ÙˆØµÙŠØ©ØŒ Ø§Ø¦ØªÙ…Ø§Ù†).' },
        { icon: 'ğŸ’¡', text: 'Ø§Ø³ØªÙƒØ´Ù ÙØ±Øµ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±: Ø´Ø±ÙƒØ§Øª Ù†Ø§Ø´Ø¦Ø©ØŒ ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø®Ø§ØµØ©.' },
        { icon: 'ğŸŒ', text: 'ØªÙ†ÙˆÙŠØ¹ Ø¬ØºØ±Ø§ÙÙŠ: Ø£Ø³ÙˆØ§Ù‚ Ø¯ÙˆÙ„ÙŠØ© Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø«Ø±ÙˆØ© Ù…Ù† Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø­Ù„ÙŠØ©.' },
        { icon: 'ğŸ“‰', text: 'Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ù…Ø±Ø­Ù„ØªÙƒ Ù‡ÙŠ Ø§Ù„ØªØ±ÙƒØ² â€” ØªØ¬Ù†Ø¨ ÙˆØ¶Ø¹ 50%+ ÙÙŠ Ø£ØµÙ„ ÙˆØ§Ø­Ø¯.' },
    ],
    5: [
        { icon: 'ğŸ›ï¸', text: 'Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù„Ù„Ø«Ø±ÙˆØ© Ø£ÙˆÙ„ÙˆÙŠØ© â€” Ø§Ø³ØªØ¹Ù† Ø¨Ù…Ø³ØªØ´Ø§Ø± Ù…Ø§Ù„ÙŠ Ù…ØªØ®ØµØµ.' },
        { icon: 'ğŸŒ±', text: 'ÙÙƒÙ‘Ø± ÙÙŠ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©: ÙˆÙ‚ÙØŒ ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ©ØŒ Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø®ÙŠØ±ÙŠØ©.' },
        { icon: 'ğŸ“œ', text: 'Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©: Ø­ÙˆÙƒÙ…Ø© Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© ÙˆÙˆØ«Ø§Ø¦Ù‚ Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù…Ø­ÙƒÙ…Ø©.' },
        { icon: 'ğŸ”’', text: 'Ø£Ù…Ù‘Ù† Ø«Ø±ÙˆØªÙƒ Ù…Ù† Ù…Ø®Ø§Ø·Ø± Ø§Ù„ØªØ¶Ø®Ù…: Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ù†ØªØ¬Ø©ØŒ Ø£Ø³Ù‡Ù… Ù‚Ø·Ø§Ø¹ÙŠØ©ØŒ Ù…Ø¹Ø§Ø¯Ù† Ø«Ù…ÙŠÙ†Ø©.' },
    ],
};

// ===== Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© =====
function calculateAll() {

    // ===== Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª =====
    const age          = parseInt(document.getElementById('age').value)                  || 0;
    const annualIncome = parseFloat(document.getElementById('annual_income').value)      || 0;
    const goldGrams    = parseFloat(document.getElementById('gold_grams').value)         || 0;
    const goldPrice    = parseFloat(document.getElementById('gold_price_per_gram').value) || 420;

    let assets = Array.from(document.querySelectorAll('input.asset'))
                      .reduce((s, el) => s + (parseFloat(el.value) || 0), 0);
    assets += goldGrams * goldPrice;

    const debts = Array.from(document.querySelectorAll('input.debt'))
                       .reduce((s, el) => s + (parseFloat(el.value) || 0), 0);

    const netWorth = assets - debts;

    // ===== ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ =====
    let level, status, color, resultClass;
    if      (netWorth < 0)         { level = 0; status = 'Ø§Ù„Ù…Ø¯ÙŠÙˆÙ† Ø§Ù„ØµØ§ÙÙŠ';         color = '#8e1a1a'; resultClass = 'result-critical'; }
    else if (netWorth < 75000)     { level = 1; status = 'Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…Ø³ØªÙˆØ±Ø©';         color = '#d67a6a'; resultClass = 'result-negative'; }
    else if (netWorth < 330000)    { level = 2; status = 'Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©';         color = '#e89d5a'; resultClass = 'result-warning';  }
    else if (netWorth < 1875000)   { level = 3; status = 'Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø¹Ù„ÙŠØ§'; color = '#c9a700'; resultClass = 'result-warning';  }
    else if (netWorth < 37500000)  { level = 4; status = 'Ø·Ø¨Ù‚Ø© Ø§Ù„Ø£Ø«Ø±ÙŠØ§Ø¡';           color = '#5a9d7a'; resultClass = 'result-good';     }
    else                           { level = 5; status = 'Ø·Ø¨Ù‚Ø© ÙØ§Ø­Ø´Ø© Ø§Ù„Ø«Ø±Ø§Ø¡';      color = '#2c8a5a'; resultClass = 'result-positive'; }

    // ===== Ø§Ù„Ø¥Ø¨Ø±Ø© â€” Ø§Ø³ØªÙŠÙØ§Ø¡ Ø³Ù„Ø³ =====
    const needleAngle = getNeedleAngle(netWorth);
    document.getElementById('needle').setAttribute('transform', `rotate(${needleAngle.toFixed(2)} 70 70)`);

    // ===== Gauge Label =====
    document.getElementById('gauge-label').textContent = status;
    document.getElementById('gauge-label').style.color = color;

    // ===== Ø§Ù„Ù‡Ø±Ù… =====
    document.querySelectorAll('.pyramid-level').forEach(el => el.classList.remove('active'));
    const activeEl = document.getElementById(`level-${level}`);
    if (activeEl) activeEl.classList.add('active');

    // ===== Ø§Ù„Ù†Øµ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ =====
    document.getElementById('status-label').textContent  = status;
    document.getElementById('status-label').style.color  = color;
    document.getElementById('networth-display').textContent = fmt(netWorth);
    document.getElementById('networth-display').style.color = netWorth >= 0 ? 'var(--dark-green)' : 'var(--red)';

    // ===== âœ… Ø¥ØµÙ„Ø§Ø­: Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙˆÙ† Ø¨Ù…Ù‚Ø§Ø±Ù†Ø© Ø±Ù‚Ù…ÙŠØ© ØµØ­ÙŠØ­Ø© =====
    const debtRatioNum = assets > 0 ? (debts / assets * 100) : 0;
    const debtRatioStr = assets > 0 ? debtRatioNum.toFixed(1) + '%' : 'â€”';
    const debtWarning  = debtRatioNum > 40 ? ' âš ï¸ Ù…Ø±ØªÙØ¹Ø©' : debtRatioNum > 20 ? ' ğŸŸ¡ Ù…Ø¹ØªØ¯Ù„Ø©' : ' âœ… Ù…Ù†Ø®ÙØ¶Ø©';

    // ===== ØªÙØ§ØµÙŠÙ„ =====
    document.getElementById('detailsGrid').innerHTML = `
        <div class="detail-item">
            <div class="d-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ØµÙˆÙ„</div>
            <div class="d-value" style="color:var(--dark-green);">${fmt(assets)}</div>
        </div>
        <div class="detail-item">
            <div class="d-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª</div>
            <div class="d-value" style="color:var(--red);">${fmt(debts)}</div>
        </div>
        <div class="detail-item">
            <div class="d-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯ÙŠÙˆÙ† Ø¥Ù„Ù‰ Ø§Ù„Ø£ØµÙˆÙ„</div>
            <div class="d-value">${debtRatioStr}${assets > 0 ? debtWarning : ''}</div>
        </div>
        <div class="detail-item">
            <div class="d-label">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø°Ù‡Ø¨</div>
            <div class="d-value">${fmt(goldGrams * goldPrice)}</div>
        </div>
    `;

    // ===== âœ… Ø¥ØµÙ„Ø§Ø­: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø«Ø±ÙˆØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© Ø¨Ø§Ù„Ø¹Ù…Ø± (Stanley & Danko) =====
    const benchmarkCard = document.getElementById('benchmarkCard');
    if (age > 0 && annualIncome > 0) {
        const targetNetWorth = (age * annualIncome) / 10;
        const gap            = netWorth - targetNetWorth;
        const gapPct         = ((gap / targetNetWorth) * 100).toFixed(1);
        let rating, ratingColor;
        if      (gap >= targetNetWorth)  { rating = 'â­â­â­ Ø«Ø±ÙˆØ© Ù…Ù…ÙŠØ²Ø© â€” ØªÙÙˆÙ‚ ØªÙˆÙ‚Ø¹Ø§Øª Ø¹Ù…Ø±Ùƒ Ø¨ÙØ§Ø±Ù‚ ÙƒØ¨ÙŠØ±'; ratingColor = '#2c8a5a'; }
        else if (gap >= 0)               { rating = 'âœ… ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ â€” Ø«Ø±ÙˆØªÙƒ ØªØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø¹Ù…Ø±Ùƒ';       ratingColor = '#5a9d7a'; }
        else if (gap >= -targetNetWorth * 0.5) { rating = 'ğŸŸ¡ Ù…ØªØ£Ø®Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ â€” ÙŠÙ…ÙƒÙ† Ø§Ù„Ù„Ø­Ø§Ù‚ Ø¨ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ø³ÙŠØ·Ø©'; ratingColor = '#c9a700'; }
        else                             { rating = 'ğŸ”´ ÙØ¬ÙˆØ© ÙƒØ¨ÙŠØ±Ø© â€” ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø®Ø·Ø© ØªØ³Ø±ÙŠØ¹ Ø¬Ø§Ø¯Ø©';         ratingColor = '#d67a6a'; }

        document.getElementById('bm-target').textContent  = fmt(targetNetWorth);
        document.getElementById('bm-current').textContent = fmt(netWorth);
        document.getElementById('bm-gap').textContent     = (gap >= 0 ? '+' : '') + fmt(gap) + ` (${gap >= 0 ? '+' : ''}${gapPct}%)`;
        document.getElementById('bm-gap').className       = 'benchmark-value benchmark-gap ' + (gap >= 0 ? 'gap-positive' : 'gap-negative');
        document.getElementById('bm-rating').textContent  = rating;
        document.getElementById('bm-rating').style.color  = ratingColor;
        benchmarkCard.style.display = 'block';
    } else {
        benchmarkCard.style.display = 'none';
    }

    // ===== âœ… Ù†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ© =====
    const adviceList = document.getElementById('adviceList');
    const adviceItems = ADVICE[level] || [];
    adviceList.innerHTML = adviceItems.map(a => `
        <div class="advice-item">
            <span class="advice-icon">${a.icon}</span>
            <span class="advice-text">${a.text}</span>
        </div>
    `).join('');

    // ===== ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ± =====
    document.getElementById('report-date').textContent =
        'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±: ' + new Date().toLocaleDateString('ar-SA', { year: 'numeric', month: 'long', day: 'numeric' });

    // ===== âœ… Ø¥ØµÙ„Ø§Ø­: ØªØ·Ø¨ÙŠÙ‚ CSS class Ø§Ù„ØµØ­ÙŠØ­ Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ =====
    const resultEl = document.getElementById('printable-result');
    resultEl.classList.remove('result-critical', 'result-negative', 'result-warning', 'result-good', 'result-positive');
    resultEl.classList.add(resultClass);

    // ===== âœ… Ø¥ØµÙ„Ø§Ø­: ØªØ­Ø°ÙŠØ± results-engine =====
    if (window.ResultsEngine) {
        window.ResultsEngine.paint();
    } else {
        console.warn('results-engine.js ØºÙŠØ± Ù…Ø­Ù…Ù‘Ù„ â€” Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¨ØµØ±ÙŠØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù† ØªÙØ¹Ø±Ø¶.');
    }

    resultEl.style.display = 'block';
    resultEl.scrollIntoView({ behavior: 'smooth' });
}

// ===== Reset =====
function resetAll() {
    document.querySelectorAll('input[type="number"]').forEach(el => {
        if (el.id === 'gold_price_per_gram') el.value = 420;
        else el.value = '';
    });
    const r = document.getElementById('printable-result');
    r.style.display = 'none';
    r.classList.remove('result-critical', 'result-negative', 'result-warning', 'result-good', 'result-positive');
    document.querySelectorAll('.pyramid-level').forEach(l => l.classList.remove('active'));
    document.getElementById('benchmarkCard').style.display = 'none';
}
</script>
<script data-goatcounter="https://investornote.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
